<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:dt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 15">
<meta name=Originator content="Microsoft Word 15">
<link rel=File-List href="NOVA.files/filelist.xml">
<link rel=Edit-Time-Data href="NOVA.files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>单凯</o:Author>
  <o:LastAuthor>单凯</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>30</o:TotalTime>
  <o:LastPrinted>2018-01-24T11:20:00Z</o:LastPrinted>
  <o:Created>2018-02-15T15:28:00Z</o:Created>
  <o:LastSaved>2018-02-15T15:28:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>3569</o:Words>
  <o:Characters>20344</o:Characters>
  <o:Lines>169</o:Lines>
  <o:Paragraphs>47</o:Paragraphs>
  <o:CharactersWithSpaces>23866</o:CharactersWithSpaces>
  <o:Version>16.00</o:Version>
 </o:DocumentProperties>
 <o:CustomDocumentProperties>
  <o:KSOProductBuildVer dt:dt="string">2052-10.1.0.7106</o:KSOProductBuildVer>
 </o:CustomDocumentProperties>
</xml><![endif]-->
<link rel=dataStoreItem href="NOVA.files/item0001.xml"
target="NOVA.files/props002.xml">
<link rel=dataStoreItem href="NOVA.files/item0003.xml"
target="NOVA.files/props004.xml">
<link rel=themeData href="NOVA.files/themedata.thmx">
<link rel=colorSchemeMapping href="NOVA.files/colorschememapping.xml">
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:PunctuationKerning/>
  <w:DrawingGridVerticalSpacing>7.8 磅</w:DrawingGridVerticalSpacing>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>EN-US</w:LidThemeOther>
  <w:LidThemeAsian>ZH-CN</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:SpaceForUL/>
   <w:BalanceSingleByteDoubleByteWidth/>
   <w:DoNotLeaveBackslashAlone/>
   <w:ULTrailSpace/>
   <w:DoNotExpandShiftReturn/>
   <w:AdjustLineHeightInTable/>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
   <w:SplitPgBreakAndParaMark/>
   <w:EnableOpenTypeKerning/>
   <w:DontFlipMirrorIndents/>
   <w:OverrideTableStyleHps/>
   <w:UseFELayout/>
  </w:Compatibility>
  <w:DoNotOptimizeForBrowser/>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="&#45;-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="false"
  DefSemiHidden="false" DefQFormat="false" DefPriority="99"
  LatentStyleCount="375">
  <w:LsdException Locked="false" Priority="0" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" Priority="9" UnhideWhenUsed="true"
   QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" Priority="9" UnhideWhenUsed="true"
   QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index 9"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 1"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 2"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 3"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 4"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 5"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 6"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 7"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 8"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" Name="toc 9"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Normal Indent"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="footnote text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="annotation text"/>
  <w:LsdException Locked="false" UnhideWhenUsed="true" QFormat="true"
   Name="header"/>
  <w:LsdException Locked="false" UnhideWhenUsed="true" QFormat="true"
   Name="footer"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="index heading"/>
  <w:LsdException Locked="false" Priority="35" UnhideWhenUsed="true"
   QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="table of figures"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="envelope address"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="envelope return"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="footnote reference"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="annotation reference"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="line number"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="page number"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="endnote reference"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="endnote text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="table of authorities"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="macro"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="toa heading"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Bullet 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Number 5"/>
  <w:LsdException Locked="false" Priority="10" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Closing"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Signature"/>
  <w:LsdException Locked="false" Priority="1" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="Default Paragraph Font"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text Indent"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="List Continue 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Message Header"/>
  <w:LsdException Locked="false" Priority="11" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Salutation"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Date"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text First Indent"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text First Indent 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Note Heading"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text Indent 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Body Text Indent 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Block Text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   QFormat="true" Name="Hyperlink"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="FollowedHyperlink"/>
  <w:LsdException Locked="false" Priority="22" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" Priority="20" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Document Map"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Plain Text"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="E-mail Signature"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Top of Form"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Bottom of Form"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   QFormat="true" Name="Normal (Web)"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Acronym"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Address"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Cite"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   QFormat="true" Name="HTML Code"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Definition"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Keyboard"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Preformatted"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Sample"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Typewriter"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="HTML Variable"/>
  <w:LsdException Locked="false" QFormat="true" Name="Normal Table"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="annotation subject"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="No List"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Outline List 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Outline List 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Outline List 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Simple 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Simple 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Simple 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Classic 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Colorful 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Colorful 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Colorful 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Columns 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Grid 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 4"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 5"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 7"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table List 8"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table 3D effects 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table 3D effects 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table 3D effects 3"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Contemporary"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Elegant"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Professional"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Subtle 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Web 1"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Web 2"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Balloon Text"/>
  <w:LsdException Locked="false" Priority="39" Name="Table Grid"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Table Theme"/>
  <w:LsdException Locked="false" SemiHidden="true" Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" SemiHidden="true" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" QFormat="true"
   Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" QFormat="true"
   Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" QFormat="true"
   Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" QFormat="true"
   Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" QFormat="true"
   Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" SemiHidden="true"
   UnhideWhenUsed="true" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="true"
   UnhideWhenUsed="true" QFormat="true" Name="TOC Heading"/>
  <w:LsdException Locked="false" Priority="41" Name="Plain Table 1"/>
  <w:LsdException Locked="false" Priority="42" Name="Plain Table 2"/>
  <w:LsdException Locked="false" Priority="43" Name="Plain Table 3"/>
  <w:LsdException Locked="false" Priority="44" Name="Plain Table 4"/>
  <w:LsdException Locked="false" Priority="45" Name="Plain Table 5"/>
  <w:LsdException Locked="false" Priority="40" Name="Grid Table Light"/>
  <w:LsdException Locked="false" Priority="46" Name="Grid Table 1 Light"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark"/>
  <w:LsdException Locked="false" Priority="51" Name="Grid Table 6 Colorful"/>
  <w:LsdException Locked="false" Priority="52" Name="Grid Table 7 Colorful"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 1"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 1"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 1"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 2"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 2"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 2"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 3"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 3"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 3"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 4"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 4"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 4"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 5"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 5"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 5"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="46"
   Name="Grid Table 1 Light Accent 6"/>
  <w:LsdException Locked="false" Priority="47" Name="Grid Table 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="48" Name="Grid Table 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="49" Name="Grid Table 4 Accent 6"/>
  <w:LsdException Locked="false" Priority="50" Name="Grid Table 5 Dark Accent 6"/>
  <w:LsdException Locked="false" Priority="51"
   Name="Grid Table 6 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="52"
   Name="Grid Table 7 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="46" Name="List Table 1 Light"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark"/>
  <w:LsdException Locked="false" Priority="51" Name="List Table 6 Colorful"/>
  <w:LsdException Locked="false" Priority="52" Name="List Table 7 Colorful"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 1"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 1"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 1"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 1"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 2"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 2"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 2"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 2"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 3"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 3"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 3"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 3"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 4"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 4"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 4"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 4"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 5"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 5"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 5"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 5"/>
  <w:LsdException Locked="false" Priority="46"
   Name="List Table 1 Light Accent 6"/>
  <w:LsdException Locked="false" Priority="47" Name="List Table 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="48" Name="List Table 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="49" Name="List Table 4 Accent 6"/>
  <w:LsdException Locked="false" Priority="50" Name="List Table 5 Dark Accent 6"/>
  <w:LsdException Locked="false" Priority="51"
   Name="List Table 6 Colorful Accent 6"/>
  <w:LsdException Locked="false" Priority="52"
   Name="List Table 7 Colorful Accent 6"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Mention"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Smart Hyperlink"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Hashtag"/>
  <w:LsdException Locked="false" SemiHidden="true" UnhideWhenUsed="true"
   Name="Unresolved Mention"/>
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:SimSun;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 680460288 22 0 262145 0;}
@font-face
	{font-family:黑体;
	panose-1:2 1 6 9 6 1 1 1 1 1;
	mso-font-alt:SimHei;
	mso-font-charset:134;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-2147482945 953122042 22 0 262145 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-536869121 1107305727 33554432 0 415 0;}
@font-face
	{font-family:等线;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:DengXian;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:-1610612033 953122042 22 0 262159 0;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-536870265 1073741843 0 0 415 0;}
@font-face
	{font-family:"等线 Light";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:-1610612033 953122042 22 0 262159 0;}
@font-face
	{font-family:CMSY10;
	mso-font-alt:"Times New Roman";
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-pitch:auto;
	mso-font-signature:0 0 0 0 1 0;}
@font-face
	{font-family:微软雅黑;
	panose-1:2 11 5 3 2 2 4 2 2 4;
	mso-font-charset:134;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-2147483001 718224464 22 0 262175 0;}
@font-face
	{font-family:"\@微软雅黑";
	mso-font-charset:134;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-2147483001 718224464 22 0 262175 0;}
@font-face
	{font-family:"\@宋体";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 680460288 22 0 262145 0;}
@font-face
	{font-family:"\@等线";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:-1610612033 953122042 22 0 262159 0;}
@font-face
	{font-family:"\@等线 Light";
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:-1610612033 953122042 22 0 262159 0;}
@font-face
	{font-family:"\@黑体";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-2147482945 953122042 22 0 262145 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:none;
	font-size:12.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:等线;
	mso-ascii-font-family:等线;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:宋体;
	mso-hansi-font-family:等线;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
h1
	{mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"标题 1 字符";
	mso-style-next:正文;
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:21.25pt;
	text-indent:-21.25pt;
	line-height:240%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:1;
	mso-list:l1 level1 lfo1;
	font-size:22.0pt;
	font-family:等线;
	mso-ascii-font-family:等线;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:宋体;
	mso-hansi-font-family:等线;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:22.0pt;
	font-weight:bold;}
h2
	{mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 2 字符";
	mso-style-next:正文;
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:1.0cm;
	text-indent:-1.0cm;
	line-height:172%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:2;
	mso-list:l1 level2 lfo1;
	font-size:16.0pt;
	font-family:"等线 Light";
	mso-ascii-font-family:"等线 Light";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"等线 Light";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"等线 Light";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	mso-font-kerning:1.0pt;
	font-weight:bold;}
h3
	{mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 3 字符";
	mso-style-next:正文;
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:70.9pt;
	text-indent:-1.0cm;
	line-height:173%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:3;
	mso-list:l1 level3 lfo1;
	font-size:16.0pt;
	font-family:等线;
	mso-ascii-font-family:等线;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:宋体;
	mso-hansi-font-family:等线;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;
	font-weight:bold;}
h4
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 4 字符";
	mso-style-next:正文;
	margin-top:14.0pt;
	margin-right:0cm;
	margin-bottom:14.5pt;
	margin-left:99.2pt;
	text-indent:-35.4pt;
	line-height:156%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:4;
	mso-list:l1 level4 lfo1;
	font-size:14.0pt;
	font-family:"等线 Light";
	mso-ascii-font-family:"等线 Light";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"等线 Light";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"等线 Light";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	mso-font-kerning:1.0pt;
	font-weight:bold;}
h5
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 5 字符";
	mso-style-next:正文;
	margin-top:14.0pt;
	margin-right:0cm;
	margin-bottom:14.5pt;
	margin-left:127.55pt;
	text-indent:-42.5pt;
	line-height:156%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:5;
	mso-list:l1 level5 lfo1;
	font-size:14.0pt;
	font-family:等线;
	mso-ascii-font-family:等线;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:宋体;
	mso-hansi-font-family:等线;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;
	font-weight:bold;}
h6
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 6 字符";
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:163.0pt;
	text-indent:-2.0cm;
	line-height:133%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:6;
	mso-list:l1 level6 lfo1;
	font-size:12.0pt;
	font-family:"等线 Light";
	mso-ascii-font-family:"等线 Light";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"等线 Light";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"等线 Light";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	mso-font-kerning:1.0pt;
	font-weight:bold;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 7 字符";
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:191.35pt;
	text-indent:-63.8pt;
	line-height:133%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:7;
	mso-list:l1 level7 lfo1;
	font-size:12.0pt;
	font-family:等线;
	mso-ascii-font-family:等线;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:宋体;
	mso-hansi-font-family:等线;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;
	font-weight:bold;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-priority:99;
	mso-style-qformat:yes;
	mso-style-link:"页眉 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:none;
	tab-stops:center 207.65pt right 415.3pt;
	layout-grid-mode:char;
	border:none;
	mso-border-bottom-alt:solid windowtext .75pt;
	padding:0cm;
	mso-padding-alt:0cm 0cm 1.0pt 0cm;
	font-size:9.0pt;
	font-family:等线;
	mso-ascii-font-family:等线;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:宋体;
	mso-hansi-font-family:等线;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-priority:99;
	mso-style-qformat:yes;
	mso-style-link:"页脚 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:none;
	tab-stops:center 207.65pt right 415.3pt;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:等线;
	mso-ascii-font-family:等线;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:宋体;
	mso-hansi-font-family:等线;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{mso-style-priority:35;
	mso-style-qformat:yes;
	mso-style-next:正文;
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:none;
	font-size:10.0pt;
	font-family:"等线 Light";
	mso-ascii-font-family:"等线 Light";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:黑体;
	mso-hansi-font-family:"等线 Light";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	mso-font-kerning:1.0pt;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-priority:10;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"标题 字符";
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	text-align:center;
	mso-pagination:none;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:"等线 Light";
	mso-ascii-font-family:"等线 Light";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"等线 Light";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"等线 Light";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	mso-font-kerning:1.0pt;
	font-weight:bold;}
a:link, span.MsoHyperlink
	{mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-qformat:yes;
	color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-noshow:yes;
	mso-style-priority:99;
	color:#954F72;
	mso-themecolor:followedhyperlink;
	text-decoration:underline;
	text-underline:single;}
p
	{mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-qformat:yes;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:宋体;
	mso-bidi-font-family:宋体;}
code
	{mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-qformat:yes;
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:宋体;
	mso-ascii-font-family:宋体;
	mso-fareast-font-family:宋体;
	mso-hansi-font-family:宋体;
	mso-bidi-font-family:宋体;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{mso-style-priority:34;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	margin:0cm;
	margin-bottom:.0001pt;
	text-indent:21.0pt;
	mso-char-indent-count:2.0;
	mso-pagination:none;
	font-size:12.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:等线;
	mso-ascii-font-family:等线;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:宋体;
	mso-hansi-font-family:等线;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
span.a
	{mso-style-name:"页眉 字符";
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-locked:yes;
	mso-style-link:页眉;
	mso-ansi-font-size:9.0pt;
	mso-bidi-font-size:9.0pt;}
span.a0
	{mso-style-name:"页脚 字符";
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-locked:yes;
	mso-style-link:页脚;
	mso-ansi-font-size:9.0pt;
	mso-bidi-font-size:9.0pt;}
span.1
	{mso-style-name:"标题 1 字符";
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-locked:yes;
	mso-style-link:"标题 1";
	mso-ansi-font-size:22.0pt;
	mso-bidi-font-size:22.0pt;
	mso-font-kerning:22.0pt;
	font-weight:bold;}
span.2
	{mso-style-name:"标题 2 字符";
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-locked:yes;
	mso-style-link:"标题 2";
	mso-ansi-font-size:16.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:"等线 Light";
	mso-ascii-font-family:"等线 Light";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"等线 Light";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"等线 Light";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	font-weight:bold;}
span.3
	{mso-style-name:"标题 3 字符";
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-locked:yes;
	mso-style-link:"标题 3";
	mso-ansi-font-size:16.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:宋体;
	mso-fareast-font-family:宋体;
	font-weight:bold;}
span.a1
	{mso-style-name:"标题 字符";
	mso-style-priority:10;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-locked:yes;
	mso-style-link:标题;
	mso-ansi-font-size:16.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:"等线 Light";
	mso-ascii-font-family:"等线 Light";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"等线 Light";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"等线 Light";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	font-weight:bold;}
span.4
	{mso-style-name:"标题 4 字符";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-locked:yes;
	mso-style-link:"标题 4";
	mso-ansi-font-size:14.0pt;
	mso-bidi-font-size:14.0pt;
	font-family:"等线 Light";
	mso-ascii-font-family:"等线 Light";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"等线 Light";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"等线 Light";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	font-weight:bold;}
span.5
	{mso-style-name:"标题 5 字符";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-locked:yes;
	mso-style-link:"标题 5";
	mso-ansi-font-size:14.0pt;
	mso-bidi-font-size:14.0pt;
	font-family:宋体;
	mso-fareast-font-family:宋体;
	font-weight:bold;}
span.6
	{mso-style-name:"标题 6 字符";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-locked:yes;
	mso-style-link:"标题 6";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"等线 Light";
	mso-ascii-font-family:"等线 Light";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"等线 Light";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"等线 Light";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	font-weight:bold;}
span.7
	{mso-style-name:"标题 7 字符";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-locked:yes;
	mso-style-link:"标题 7";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:宋体;
	mso-fareast-font-family:宋体;
	font-weight:bold;}
span.hljs-subst
	{mso-style-name:hljs-subst;
	mso-style-unhide:no;
	mso-style-qformat:yes;}
span.hljs-comment
	{mso-style-name:hljs-comment;
	mso-style-unhide:no;
	mso-style-qformat:yes;}
.MsoChpDefault
	{mso-style-type:export-only;
	mso-default-props:yes;
	font-size:10.0pt;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:等线;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:0pt;}
 /* Page Definitions */
 @page
	{mso-page-border-surround-header:no;
	mso-page-border-surround-footer:no;
	mso-footnote-separator:url("NOVA.files/header.htm") fs;
	mso-footnote-continuation-separator:url("NOVA.files/header.htm") fcs;
	mso-endnote-separator:url("NOVA.files/header.htm") es;
	mso-endnote-continuation-separator:url("NOVA.files/header.htm") ecs;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	mso-header-margin:42.55pt;
	mso-footer-margin:49.6pt;
	mso-paper-source:0;
	layout-grid:15.6pt;}
div.WordSection1
	{page:WordSection1;}
@page WordSection2
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	mso-header-margin:42.55pt;
	mso-footer-margin:49.6pt;
	mso-page-numbers:1;
	mso-footer:url("NOVA.files/header.htm") f2;
	mso-paper-source:0;
	layout-grid:15.6pt;}
div.WordSection2
	{page:WordSection2;}
 /* List Definitions */
 @list l0
	{mso-list-id:715007982;
	mso-list-template-ids:715007982;}
@list l0:level1
	{mso-level-number-format:alpha-lower;
	mso-level-text:"\(%1\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:39.0pt;
	text-indent:-18.0pt;}
@list l0:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l0:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l0:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l0:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l0:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l0:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l0:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l0:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:210.0pt;
	text-indent:-21.0pt;}
@list l1
	{mso-list-id:1670868800;
	mso-list-template-ids:1670868800;}
@list l1:level1
	{mso-level-style-link:"标题 1";
	mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:21.25pt;
	text-indent:-21.25pt;}
@list l1:level2
	{mso-level-style-link:"标题 2";
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:49.6pt;
	text-indent:-1.0cm;}
@list l1:level3
	{mso-level-style-link:"标题 3";
	mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:70.9pt;
	text-indent:-1.0cm;}
@list l1:level4
	{mso-level-style-link:"标题 4";
	mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:99.2pt;
	text-indent:-35.4pt;}
@list l1:level5
	{mso-level-style-link:"标题 5";
	mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:127.55pt;
	text-indent:-42.5pt;}
@list l1:level6
	{mso-level-style-link:"标题 6";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:163.0pt;
	text-indent:-2.0cm;}
@list l1:level7
	{mso-level-style-link:"标题 7";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:191.35pt;
	text-indent:-63.8pt;}
@list l1:level8
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:219.7pt;
	text-indent:-70.9pt;}
@list l1:level9
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:255.1pt;
	text-indent:-85.0pt;}
@list l2
	{mso-list-id:1689133677;
	mso-list-template-ids:1689133677;}
@list l2:level1
	{mso-level-text:"\[%1\]";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:21.0pt;
	text-indent:-21.0pt;}
@list l2:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l2:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l2:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l2:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l2:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l2:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l2:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l2:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l3
	{mso-list-id:1846551541;
	mso-list-template-ids:1846551541;}
@list l3:level1
	{mso-level-number-format:bullet;
	mso-level-text:\2022;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	tab-stops:36.0pt;
	font-family:"Arial",sans-serif;
	mso-bidi-font-family:"Times New Roman";}
@list l3:level2
	{mso-level-number-format:bullet;
	mso-level-text:\2022;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	tab-stops:72.0pt;
	font-family:"Arial",sans-serif;
	mso-bidi-font-family:"Times New Roman";}
@list l3:level3
	{mso-level-number-format:bullet;
	mso-level-text:\2022;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	tab-stops:108.0pt;
	font-family:"Arial",sans-serif;
	mso-bidi-font-family:"Times New Roman";}
@list l3:level4
	{mso-level-number-format:bullet;
	mso-level-text:\2022;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	tab-stops:144.0pt;
	font-family:"Arial",sans-serif;
	mso-bidi-font-family:"Times New Roman";}
@list l3:level5
	{mso-level-number-format:bullet;
	mso-level-text:\2022;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	tab-stops:180.0pt;
	font-family:"Arial",sans-serif;
	mso-bidi-font-family:"Times New Roman";}
@list l3:level6
	{mso-level-number-format:bullet;
	mso-level-text:\2022;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	tab-stops:216.0pt;
	font-family:"Arial",sans-serif;
	mso-bidi-font-family:"Times New Roman";}
@list l3:level7
	{mso-level-number-format:bullet;
	mso-level-text:\2022;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	tab-stops:252.0pt;
	font-family:"Arial",sans-serif;
	mso-bidi-font-family:"Times New Roman";}
@list l3:level8
	{mso-level-number-format:bullet;
	mso-level-text:\2022;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	tab-stops:288.0pt;
	font-family:"Arial",sans-serif;
	mso-bidi-font-family:"Times New Roman";}
@list l3:level9
	{mso-level-number-format:bullet;
	mso-level-text:\2022;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	tab-stops:324.0pt;
	font-family:"Arial",sans-serif;
	mso-bidi-font-family:"Times New Roman";}
@list l4
	{mso-list-id:2046179030;
	mso-list-template-ids:2046179030;}
@list l4:level1
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:-106.8pt;
	text-indent:-18.0pt;
	tab-stops:-106.8pt;}
@list l4:level2
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:-70.8pt;
	text-indent:-18.0pt;
	tab-stops:-70.8pt;}
@list l4:level3
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:-34.8pt;
	text-indent:-18.0pt;
	tab-stops:-34.8pt;}
@list l4:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:1.2pt;
	text-indent:-18.0pt;
	tab-stops:1.2pt;}
@list l4:level5
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:37.2pt;
	text-indent:-18.0pt;
	tab-stops:37.2pt;}
@list l4:level6
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:73.2pt;
	text-indent:-18.0pt;
	tab-stops:73.2pt;}
@list l4:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:109.2pt;
	text-indent:-18.0pt;
	tab-stops:109.2pt;}
@list l4:level8
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:145.2pt;
	text-indent:-18.0pt;
	tab-stops:145.2pt;}
@list l4:level9
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:181.2pt;
	text-indent:-18.0pt;
	tab-stops:181.2pt;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:普通表格;
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:等线;
	mso-ascii-font-family:等线;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:等线;
	mso-fareast-theme-font:minor-fareast;
	mso-hansi-font-family:等线;
	mso-hansi-theme-font:minor-latin;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=ZH-CN link=blue vlink="#954F72" style='tab-interval:21.0pt;
text-justify-trim:punctuation'>

<div class=WordSection1 style='layout-grid:15.6pt'>

<p class=MsoNormal align=center style='text-align:center;mso-line-height-alt:
24.0pt'><b style='mso-bidi-font-weight:normal'><span lang=EN-US
style='font-size:26.0pt;mso-bidi-font-size:11.0pt;mso-no-proof:yes'><!--[if gte vml 1]><v:shapetype
 id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
 path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="图片_x0020_13" o:spid="_x0000_i1044" type="#_x0000_t75"
 alt="5884230_133949006861_2" style='width:418.8pt;height:181.8pt;visibility:visible;
 mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image001.jpg" o:title="5884230_133949006861_2"/>
</v:shape><![endif]--><![if !vml]><img width=558 height=242
src="NOVA.files/image001.jpg" alt="5884230_133949006861_2" v:shapes="图片_x0020_13"><![endif]></span></b><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-size:26.0pt;
mso-bidi-font-size:11.0pt'><o:p></o:p></span></b></p>

<p class=MsoNormal align=center style='text-align:center;mso-line-height-alt:
24.0pt'><b style='mso-bidi-font-weight:normal'><span style='font-size:42.0pt;
mso-bidi-font-size:11.0pt;font-family:宋体;mso-ascii-font-family:等线;mso-ascii-theme-font:
minor-latin;mso-hansi-font-family:等线;mso-hansi-theme-font:minor-latin'>操作系统分析与设计课程论文</span></b><span
lang=EN-US style='font-size:42.0pt;mso-bidi-font-size:11.0pt'><o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;mso-line-height-alt:
24.0pt'><b style='mso-bidi-font-weight:normal'><span style='font-size:36.0pt;
mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:等线;mso-ascii-theme-font:
minor-latin;mso-hansi-font-family:等线;mso-hansi-theme-font:minor-latin'>（</span></b><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-size:36.0pt;
mso-bidi-font-size:12.0pt'>NOVA</span></b><b style='mso-bidi-font-weight:normal'><span
style='font-size:36.0pt;mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:
等线;mso-ascii-theme-font:minor-latin;mso-hansi-font-family:等线;mso-hansi-theme-font:
minor-latin'>文件系统概述）</span></b><b style='mso-bidi-font-weight:normal'><span
lang=EN-US style='font-size:36.0pt;mso-bidi-font-size:12.0pt'><o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-line-height-alt:24.0pt'><b style='mso-bidi-font-weight:
normal'><span lang=EN-US style='font-size:26.0pt;mso-bidi-font-size:11.0pt'><o:p>&nbsp;</o:p></span></b></p>

<div align=center>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width=352
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-alt:solid windowtext .5pt;mso-yfti-tbllook:1184;mso-padding-alt:
 0cm 5.4pt 0cm 5.4pt;mso-border-insideh:.5pt solid windowtext;mso-border-insidev:
 .5pt solid windowtext'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=101 style='width:76.05pt;border:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:24.0pt'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
  11.0pt;font-family:宋体;mso-ascii-font-family:等线;mso-ascii-theme-font:minor-latin;
  mso-hansi-font-family:等线;mso-hansi-theme-font:minor-latin'>学院</span></b><b
  style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-size:14.0pt;
  mso-bidi-font-size:11.0pt'><o:p></o:p></span></b></p>
  </td>
  <td width=251 style='width:188.25pt;border:none;border-bottom:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:24.0pt'><span
  style='font-size:14.0pt;mso-bidi-font-size:11.0pt;font-family:宋体;mso-ascii-font-family:
  等线;mso-ascii-theme-font:minor-latin;mso-hansi-font-family:等线;mso-hansi-theme-font:
  minor-latin'>武汉光电国家研究中心</span><span lang=EN-US style='font-size:14.0pt;
  mso-bidi-font-size:11.0pt'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=101 style='width:76.05pt;border:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:24.0pt'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
  11.0pt;font-family:宋体;mso-ascii-font-family:等线;mso-ascii-theme-font:minor-latin;
  mso-hansi-font-family:等线;mso-hansi-theme-font:minor-latin'>班级</span></b></p>
  </td>
  <td width=251 style='width:188.25pt;border:none;border-bottom:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-top-alt:solid windowtext .5pt;
  mso-border-bottom-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:24.0pt'><span
  style='font-size:14.0pt;mso-bidi-font-size:11.0pt;font-family:宋体;mso-ascii-font-family:
  等线;mso-ascii-theme-font:minor-latin;mso-hansi-font-family:等线;mso-hansi-theme-font:
  minor-latin'>硕</span><span lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:
  11.0pt'>1704</span><span style='font-size:14.0pt;mso-bidi-font-size:11.0pt;
  font-family:宋体;mso-ascii-font-family:等线;mso-ascii-theme-font:minor-latin;
  mso-hansi-font-family:等线;mso-hansi-theme-font:minor-latin'>班</span><span
  lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:11.0pt'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=101 style='width:76.05pt;border:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:24.0pt'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
  11.0pt;font-family:宋体;mso-ascii-font-family:等线;mso-ascii-theme-font:minor-latin;
  mso-hansi-font-family:等线;mso-hansi-theme-font:minor-latin'>小组</span></b><b
  style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-size:14.0pt;
  mso-bidi-font-size:11.0pt'><o:p></o:p></span></b></p>
  </td>
  <td width=251 style='width:188.25pt;border:none;border-bottom:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-top-alt:solid windowtext .5pt;
  mso-border-bottom-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:24.0pt'><span
  lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:11.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=101 style='width:76.05pt;border:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:24.0pt'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
  11.0pt;font-family:宋体;mso-ascii-font-family:等线;mso-ascii-theme-font:minor-latin;
  mso-hansi-font-family:等线;mso-hansi-theme-font:minor-latin'>姓名</span></b><b
  style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-size:14.0pt;
  mso-bidi-font-size:11.0pt'><o:p></o:p></span></b></p>
  </td>
  <td width=251 style='width:188.25pt;border:none;border-bottom:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-top-alt:solid windowtext .5pt;
  mso-border-bottom-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:24.0pt'><span
  lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:11.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;mso-yfti-lastrow:yes'>
  <td width=101 style='width:76.05pt;border:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:24.0pt'><b
  style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;mso-bidi-font-size:
  11.0pt;font-family:宋体;mso-ascii-font-family:等线;mso-ascii-theme-font:minor-latin;
  mso-hansi-font-family:等线;mso-hansi-theme-font:minor-latin'>学号</span></b><b
  style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-size:14.0pt;
  mso-bidi-font-size:11.0pt'><o:p></o:p></span></b></p>
  </td>
  <td width=251 style='width:188.25pt;border:none;border-bottom:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-top-alt:solid windowtext .5pt;
  mso-border-bottom-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center;line-height:24.0pt'><span
  lang=EN-US style='font-size:14.0pt;mso-bidi-font-size:11.0pt'><o:p>&nbsp;</o:p></span></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal style='line-height:24.0pt'><span lang=EN-US
style='font-size:14.0pt;mso-bidi-font-size:11.0pt'><o:p>&nbsp;</o:p></span></p>

<div align=center>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=246
 style='border-collapse:collapse;mso-table-layout-alt:fixed;mso-yfti-tbllook:
 1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;mso-yfti-lastrow:yes;
  page-break-inside:avoid;height:15.7pt'>
  <td width=67 valign=bottom style='width:50.0pt;border:none;border-bottom:
  solid windowtext 1.5pt;padding:0cm 5.4pt 0cm 5.4pt;height:15.7pt'>
  <p class=MsoNormal align=center style='margin-right:-6.0pt;mso-para-margin-right:
  -.5gd;text-align:center;line-height:24.0pt'><span lang=EN-US
  style='font-size:14.0pt;mso-bidi-font-size:11.0pt;font-family:"Arial",sans-serif;
  mso-fareast-font-family:黑体;mso-bidi-font-family:"Times New Roman";mso-bidi-theme-font:
  minor-bidi'><span style='mso-spacerun:yes'>&nbsp;</span>2018<o:p></o:p></span></p>
  </td>
  <td width=27 valign=bottom style='width:20.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:15.7pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:-6.0pt;
  margin-bottom:0cm;margin-left:-6.0pt;margin-bottom:.0001pt;mso-para-margin-top:
  0cm;mso-para-margin-right:-.5gd;mso-para-margin-bottom:0cm;mso-para-margin-left:
  -.5gd;mso-para-margin-bottom:.0001pt;text-align:center;line-height:24.0pt'><span
  style='font-size:14.0pt;mso-bidi-font-size:11.0pt;font-family:黑体;mso-hansi-font-family:
  等线;mso-hansi-theme-font:minor-latin'>年<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=47 valign=bottom style='width:35.0pt;border:none;border-bottom:
  solid windowtext 1.5pt;padding:0cm 5.4pt 0cm 5.4pt;height:15.7pt'>
  <p class=MsoNormal align=center style='margin-right:-6.0pt;mso-para-margin-right:
  -.5gd;text-align:center;line-height:24.0pt'><span lang=EN-US
  style='font-size:14.0pt;mso-bidi-font-size:11.0pt;font-family:"Arial",sans-serif;
  mso-fareast-font-family:黑体;mso-bidi-font-family:"Times New Roman";mso-bidi-theme-font:
  minor-bidi'>1 <o:p></o:p></span></p>
  </td>
  <td width=27 valign=bottom style='width:20.0pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:15.7pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:-6.0pt;
  margin-bottom:0cm;margin-left:-6.0pt;margin-bottom:.0001pt;mso-para-margin-top:
  0cm;mso-para-margin-right:-.5gd;mso-para-margin-bottom:0cm;mso-para-margin-left:
  -.5gd;mso-para-margin-bottom:.0001pt;text-align:center;line-height:24.0pt'><span
  style='font-size:14.0pt;mso-bidi-font-size:11.0pt;font-family:黑体;mso-hansi-font-family:
  等线;mso-hansi-theme-font:minor-latin'>月<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
  <td width=47 valign=bottom style='width:35.0pt;border:none;border-bottom:
  solid windowtext 1.5pt;padding:0cm 5.4pt 0cm 5.4pt;height:15.7pt'>
  <p class=MsoNormal align=center style='margin-right:-6.0pt;mso-para-margin-right:
  -.5gd;text-align:center;line-height:24.0pt'><span lang=EN-US
  style='font-size:14.0pt;mso-bidi-font-size:11.0pt;font-family:"Arial",sans-serif;
  mso-fareast-font-family:黑体;mso-bidi-font-family:"Times New Roman";mso-bidi-theme-font:
  minor-bidi'>23 <o:p></o:p></span></p>
  </td>
  <td width=33 valign=bottom style='width:24.6pt;padding:0cm 5.4pt 0cm 5.4pt;
  height:15.7pt'>
  <p class=MsoNormal align=center style='margin-top:0cm;margin-right:-6.0pt;
  margin-bottom:0cm;margin-left:-6.0pt;margin-bottom:.0001pt;mso-para-margin-top:
  0cm;mso-para-margin-right:-.5gd;mso-para-margin-bottom:0cm;mso-para-margin-left:
  -.5gd;mso-para-margin-bottom:.0001pt;text-align:center;line-height:24.0pt'><span
  style='font-size:14.0pt;mso-bidi-font-size:11.0pt;font-family:黑体;mso-hansi-font-family:
  等线;mso-hansi-theme-font:minor-latin'>日<span lang=EN-US><o:p></o:p></span></span></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal align=center style='text-align:center;mso-outline-level:
1'><b style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-size:
22.0pt;mso-bidi-font-size:16.0pt;font-family:宋体'><o:p>&nbsp;</o:p></span></b></p>

</div>

<b style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-size:22.0pt;
mso-bidi-font-size:16.0pt;font-family:宋体;mso-bidi-font-family:"Times New Roman";
mso-bidi-theme-font:minor-bidi;mso-font-kerning:1.0pt;mso-ansi-language:EN-US;
mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA'><br clear=all
style='page-break-before:always;mso-break-type:section-break'>
</span></b>

<div class=WordSection2 style='layout-grid:15.6pt'>

<p class=MsoNormal align=center style='text-align:center;mso-outline-level:
1'><b style='mso-bidi-font-weight:normal'><span style='font-size:22.0pt;
mso-bidi-font-size:16.0pt;font-family:宋体'>摘要<span lang=EN-US><o:p></o:p></span></span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>快速非易失性存储器（</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NVM</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>）将很快将会和</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>DRAM</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>一起出现在处理器内存总线上。由此产生的混合存储器系统将为软件提供亚微秒，高带宽的性能来访问持久性数据，但管理，访问和维护存储在</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>中的数据的一致性带来了许多挑战。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>为旋转磁盘或固态硬盘构建的现有针对</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的文件系统引入了软件开销，这会掩盖</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>应该提供的性能，但是现在提出的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>文件系统要么引发类似的开销，要么不能为应用程序提供所需的强一致性保证。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman"'>我们提供</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，一个文件系统，旨在最大限度地提高混合存储系统的性能，同时提供强大的一致性保证。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'> NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>采用传统的日志结构文件系统技术来利用</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>提供的快速随机访问的特点。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>特别是，它为每个</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>inode</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>维护独立的日志以提高并发性，并将文件数据存储在日志以外，以最大限度地减少日志大小并减少垃圾收集成本。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'> NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的日志提供了元数据，数据和</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>mmap</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>原子性，并将注意力集中在简单性和可靠性上，将复杂的元数据结构保留在</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>中以加速查找操作。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>实验结果表明，在写入密集型工作负载中，相比于最先进的文件系统，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>提供了</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>22</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>％至</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>216</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>倍的吞吐量提升，并且与提供同样强大的数据一致性保证的文件系统相比，提高了</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>3.1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>至</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>13.5</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>倍。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<h1 style='mso-list:l1 level1 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:等线;mso-fareast-theme-font:minor-latin;
mso-bidi-font-family:等线;mso-bidi-theme-font:minor-latin'><span
style='mso-list:Ignore'>1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
等线;mso-ascii-theme-font:minor-latin;mso-hansi-font-family:等线;mso-hansi-theme-font:
minor-latin'>介绍</span></h1>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>新兴的非易失性存储器（</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NVM</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>）技术，如自旋转矩传输，相位变化，电阻式存储器，英特尔和美光的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>3D XPoint </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>技术等都将使</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>I / O</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>性能发生革命性的变化。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>研究人员提出了将</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NVM</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>集成到计算机系统中的几种方法，最令人兴奋的提议是将</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>与传统的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>一起放置在处理器</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>-</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>主存总线上，从而形成混合的易失性</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>/ </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>非易失性主存储器系统。将速度更快，易失性的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>与稍微慢一些，但是密度更高的非易失性主存储器（</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>）结合起来，提供了结合两种技术的最佳特性的存储系统的可能性。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>混合</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>DRAM / NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>存储系统给系统设计者带来了许多机遇和挑战。这些系统需要最小化软件开销，如果要充分利用</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的高性能并有效地支持更灵活的访问模式，并且同时它们必须提供应用程序需要的强大的一致性保证，并尊重新兴存储器的局限性（例如有限的程序周期）。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>传统的文件系统不适用于混合存储系统，因为它们是为磁盘的性能特性（旋转或固态）而构建的，并且依靠磁盘的一致性保证（例如，扇区更新是原子的）来保证正确性</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>[47]</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>混合存储器系统与传统存储系统不同的地方在于：</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>提供比磁盘更大的性能提升，而</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>提供比</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>更好的性能，虽然</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>没有持久性。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>内存提供了不同的一致性保证（例如，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>64</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>位原子存储）。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>提供强大的一致性保证对于基于内存的文件系统来说尤其具有挑战性，因为维护</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>中的数据一致性可能代价高昂。现代的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>CPU</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>和内存系统可能会将存储重新排序到内存，以提高性能，在系统故障的情况下打破一致性。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>为了弥补，文件系统需要显式刷新</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>CPU</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>缓存中的数据以执行排序，增加了大量开销，并浪费了</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>提供的改进的性能。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>克服这些问题是至关重要的，因为许多应用程序依靠原子文件系统操作来确保自己的正确性。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>现有的主流文件系统使用日志，</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>shadow pageing</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>或日志结构化技术来提供原子性。但是，日志记录通过将存储设备的写入次数加倍来浪费带宽，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>shadow paging</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的文件系统需要从受影响的叶节点到根的级联更新。实施这两种技术都要求严格的排序要求，以降低性能。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>日志结构文件系统（</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>LFS</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>）将小型随机写入请求分组为一个更大的顺序写入，即硬盘和基于</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NAND Flash</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的固态硬盘（</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>SSD</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>）可以高效处理。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>然而，传统的</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>LFS</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>依赖于连续的空闲区域的可用性，并且维护这些区域需要昂贵的垃圾收集操作。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>因此，最近的研究表明，在</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NVMM</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>上，</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>LFS</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>的性能比日志文件系统差。</span><span lang=EN-US
style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>为了克服所有这些限制，我们提出了</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Non-Volatile</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>内存加速日志结构文件系统（</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>）。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>采用传统的日志结构文件系统技术来利用混合存储器系统提供的快速随机访问。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>这允许</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>支持大规模并发性，减少日志大小，并最大限度地减少垃圾收集成本，同时为常规文件操作和基于</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>mmap</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的加载</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>/</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>存储访问提供强大的一致性保证。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>的以下几个方面将它与以前的结构化文件系统区分开来。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>为每个</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>inode</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>分配一个单独的日志，以在正常操作和恢复期间最大限度地提高并发性。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'> NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>将日志存储为链接列表，因此它们不需要在内存中连续，并且使用对日志尾指针的原子更新来提供原子日志追加。对于跨多个</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>inode</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的操作，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>使用轻量级日志记录。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>不</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>log</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>数据，因此恢复过程只需扫描一小部分</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>这也允许</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>在页面过期时立即回收页面，显着减少垃圾收集开销，并允许</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>即使在文件系统快满时也能保持良好的性能。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>在描述</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>时，本文做出如下贡献：</span><span lang=EN-US
style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-size:10.0pt;font-family:CMSY10;mso-fareast-font-family:等线;
mso-fareast-theme-font:minor-fareast;mso-bidi-font-family:CMSY10;mso-font-kerning:
0pt'>&#8226; </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman"'>它扩展了现有的日志结构文件系统技术，以利用混合存储系统的特性。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-size:10.0pt;font-family:CMSY10;mso-fareast-font-family:等线;
mso-fareast-theme-font:minor-fareast;mso-bidi-font-family:CMSY10;mso-font-kerning:
0pt'>&#8226; </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman"'>它描述了原子</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>mmap</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，一个简化的界面，用于将</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>直接暴露给具有强大一致性保证的应用程序。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-size:10.0pt;font-family:CMSY10;mso-fareast-font-family:等线;
mso-fareast-theme-font:minor-fareast;mso-bidi-font-family:CMSY10;mso-font-kerning:
0pt'>&#8226; </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman"'>这表明，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>优于在混合内存系统上运行的现有</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Journaling</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>shadow paging</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>和日志结构文件系统。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>我们在基于硬件的</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NVMM</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>仿真器上使用一系列的</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>micro-</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>和</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>macro-</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>benchmarks</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>来评估</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>我们发现，在广泛的应用中，</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>比现有文件系统快得多，并且在写入密集型工作负载中，与相同数据一致性保证的文件系统相比，性能是它们的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>3.1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>倍到</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>13.5</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>倍。我们还测量垃圾收集和回收开销，我们发现</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>在高</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>利用率水平下提供稳定的性能，在系统故障的情况下快速恢复。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<h1 style='mso-list:l1 level1 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:等线;mso-fareast-theme-font:minor-latin;
mso-bidi-font-family:等线;mso-bidi-theme-font:minor-latin'><span
style='mso-list:Ignore'>2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
等线;mso-ascii-theme-font:minor-latin;mso-hansi-font-family:等线;mso-hansi-theme-font:
minor-latin'>背景</span></h1>

<p class=MsoNormal style='text-indent:24.0pt;mso-char-indent-count:2.0'><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的目标是内存系统，包括新兴的非易失性存储器技术以及</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>本节首先简要介绍了非易失性存储器技术以及它们给系统设计人员带来的机遇和挑战。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>然后，我们讨论其他文件系统如何提供原子操作和一致性保证。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>最后，我们讨论以前在</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NVMM</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>文件系统上的工作。</span><span lang=EN-US
style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><strong><span
lang=EN-US style='font-family:"等线 Light";mso-ascii-theme-font:major-latin;
mso-fareast-theme-font:major-latin;mso-hansi-theme-font:major-latin;mso-bidi-font-family:
"等线 Light";mso-bidi-theme-font:major-latin'><span style='mso-list:Ignore'>2.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span></strong><![endif]><strong><span
style='font-family:"等线 Light";mso-ascii-theme-font:major-latin;mso-fareast-font-family:
"等线 Light";mso-fareast-theme-font:major-fareast;mso-hansi-theme-font:major-latin;
mso-bidi-font-family:"Times New Roman";mso-bidi-theme-font:major-bidi'>非易失内存技术<span
lang=EN-US><o:p></o:p></span></span></strong></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";background:white'>当今新型的非易失内存技术如旋转移力矩随机存取内存（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>STT-RAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>）、相变存储器（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>PCM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>）、</span><span
style='font-family:"Times New Roman",serif;background:white'> </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>电阻式随机存储器（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>RRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>）以及</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>3D
XPoint</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>内存技术等，它们能够提供快速、非易失并且是字节寻址的内存。这些内存在内存层次中具有不同的优势和弱势，例如，</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>STT-RAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>的延迟能够满足或超过</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>并且它可能最终作为处理器最后一级高速缓存使用，由于其大的单元尺寸限制了它的容量而不能够替代</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>；</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>PCM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>和</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>ReRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>比</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>的密度更大，可能成为大的非易失主内存，然而由于它们的相对较长的延迟使它们不能够完全替代</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>成为主存。英特尔和美光公司主推的</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>3D
XPoint</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>内存技术据说能够提供比</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>NAND Flash 1000</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>倍的更高的性能。</span><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'><o:p></o:p></span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>2.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><strong><span style='font-family:"等线 Light";
mso-ascii-theme-font:major-latin;mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:
major-fareast;mso-hansi-theme-font:major-latin;mso-bidi-font-family:"Times New Roman";
mso-bidi-theme-font:major-bidi'>非易失内存软件的挑战</span></strong><span lang=EN-US>&nbsp;</span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>Non-Volatile
Main Memory</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>）技术给文件系统设计者带来了挑战。最关键的关注点在于平衡内存性能和软件开销，强制更新的顺序性以便确保一致性并且提供原子性更新。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><b style='mso-bidi-font-weight:
normal'><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>性能</span></b><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>&nbsp; </span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>在传统的存储系统中，低速存储设备如磁盘的延迟占了访问延迟的主要部分，所以软件效率不是关键的。然而对于快速的</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>，软件开销很快地成为内存延迟的主导，这挥霍（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>squander</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>）了</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>能够提供的性能。</span><span
style='font-family:"Times New Roman",serif;background:white'> </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>由于</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>内存提供低延迟并驻留在处理器内存总线上，软件可以通过</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>loads</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>和</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>stores</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>来直接访问它们。当今基于</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>的文件系统通过使用直接访问（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>Direct
Access</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>，简称</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>DAX</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>）或原地执行（</span><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>eXecute In Place</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>，简称</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>XIP</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>）技术来绕过</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>页高速缓存（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>page
cache</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>）来直接地访问</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>NVMM</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>，避免了存储栈中</span><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>和</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>间额外的拷贝。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>就是一个</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>DAX</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>文件系统。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><b style='mso-bidi-font-weight:
normal'><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>写重排序（</span></b><b style='mso-bidi-font-weight:normal'><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>Write
Reordering</span></b><b style='mso-bidi-font-weight:normal'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>）</span></b><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>&nbsp;</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>当今处理器和它们的高速缓存层次可能对更新操作进行重排序以便提升性能。现有的模型不能够确保更新是否写入</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>，因此当系统断电的时候会使得数据不一致。那么，能够识别</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>的软件通过明确地刷新高速缓存（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>cache</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>）并且发送内存障碍（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>memory
barriers</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>）以便确保写顺序性。</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>x86</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>体系结构提供</span><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>clflush</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>指令以便刷新</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>CPU cacheline</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>，但是</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>clflush</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>是强一致性的，刷新成本很大并且</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>clflush</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>仅仅发送数据到内存控制器，并不保证数据到达非易失内存。英特尔</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>mfence</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>指令确保障碍前指令必须在障碍后的指令前完成。这并没有约束数据写回</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>Memory</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>的顺序。因此</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>Intel</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>公司提出了新的指令来修补这些问题，这些新指令包括</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>clflushopt(clflust</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>的更高效版本</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>)</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>，</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>clwb(</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>明确地写回一个缓存行而不使之无效</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>)</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>，以及</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>PCOMMIT(</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>使数据持久地存储到非易失内存中</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>)</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><b style='mso-bidi-font-weight:
normal'><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>原子性</span></b><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>&nbsp; POSIX</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>类型的文件系统语义要求许多操作是原子性的，即要么全部执行要不都不执行。例如该</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>POSIX
rename</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>操作就是原子性的，而不能出现执行和不执行的中间状态。重命名一个文件是仅对元数据进行操作，但是某些原子更新同时操作文件系统的元数据和数据。存储设备典型地只是提供初步的原子性保证，如磁盘提供原子的</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>8</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>字节（或更小）的扇区写。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><o:p></o:p></span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>2.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>构建<strong><span style='font-family:"等线 Light";
mso-ascii-theme-font:major-latin;mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:
major-fareast;mso-hansi-theme-font:major-latin;mso-bidi-font-family:"Times New Roman";
mso-bidi-theme-font:major-bidi'>复杂的原子操作</span></strong><span lang=EN-US>&nbsp;</span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";background:white'>现有的文件系统使用各种各样的技术如</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>journaling</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>，</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>shadow
paging</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>或</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>log-structured</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>技术来提供原子性保证。这些工作以不同的方式工作并招致了不同的开销。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><b style='mso-bidi-font-weight:
normal'><span lang=EN-US style='font-family:"Times New Roman",serif;background:
white'>Journaling</span></b><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>&nbsp; Journaling</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";background:white'>又名写优先日志（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>write-ahead
logging</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>）被广泛地使用于</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>journaling</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>文件系统中和数据库中。一个</span><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>journaling</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>文件系统记录所有的更新到</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>journal</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>（一个固定大小的循环</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>buffer</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>）中，然后再将更新写入文件系统目标位置。在系统断电时，通过重新执行</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>journal</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>以便恢复系统到一致性状态。但是</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>Journaling</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>需要写两遍数据：一个到</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>log</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>一个到目标位置。为了提高性能，</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>journaling</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>系统经常采用只</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>journal</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>元数据的模式提升性能。最近有工作提出反向指针（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>back-pointer</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>）和去耦合持久顺序以便减少</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>journaling</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>的开销。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><o:p></o:p></span></p>

<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt;background:white'><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:"Times New Roman",serif'>Shadow
paging</span></b><span lang=EN-US style='font-family:"Times New Roman",serif'>&nbsp;
Shadow Paging</span><span style='mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman"'>属写时拷贝（</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Copy On Wrie</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>，简称</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>COW</span><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>）机制。</span><span lang=EN-US style='font-family:"Times New Roman",serif'>Shadow
paging</span><span style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>文件系统主要依赖于它们的树结构以便提供原子性。不是通过原地更新数据的方式，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>shadow paging</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>通过写一份受影响的页的新的拷贝到存储设备新的空闲空间中。就如我们用不同的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>PDF</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>阅读器打开同一个</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>PDF</span><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>时，读取时它们共享同一份数据拷贝，只有当某个阅读器编辑修改后才会形成自己新的数据拷贝，即阅读器会让你在新的文件夹位置保存该</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>PDF</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>文件。但是</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>shadow paging</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>会有一个问题，就是迭代更新的问题。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt;background:white'><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:"Times New Roman",serif'>Log-structureing&nbsp;</span></b><span
lang=EN-US style='font-family:"Times New Roman",serif'> </span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>日志结构文件系统（</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>LFS</span><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>）原始地设计用于利用磁盘顺序访问的高性能。</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>LFS</span><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>首先缓存随机小写到内存，再将它们转换成大的顺序写到磁盘中，大大提高了磁盘的写性能。实现日志结构文件系统复杂，原因是它需要顺序地写磁盘的连续空闲区域。日志清理增加了</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>LFS</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>的开销并且降低了性能。研究表明，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>SSDs</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>在顺序工作负载中表现最佳。因此日志结构设计也适用于</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>SSD</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>。</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>SFS</span><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>、</span><span lang=EN-US style='font-family:"Times New Roman",serif'>F2FS</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>和</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>RAMCloud</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>均采用了日志结构存储机制。</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>也采用了日志结构方式。</span><span lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt;background:white'><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>虽然</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>LFS</span><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>是一个优雅的想法，但是高效地实现它却是复杂的，因为</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>LFS</span><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>依赖于顺序写入磁盘的连续空闲区域。</span><span style='font-family:"Times New Roman",serif'>
</span><span style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>为了确保这些地区的供应持续稳定，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>LFS</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>不断清理和压缩日志以回收陈旧数据占用的空间。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt;background:white'><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>日志清理会增加开销并降低</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>LFS</span><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>的性能。</span><span style='font-family:"Times New Roman",serif'>
</span><span style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>为了减少清理代价，一些</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>LFS</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>设计将冷热数据分开，并应用不同的清理策略。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>SSD</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>在顺序工作负载下也表现最佳，所以</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>LFS</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>技术也被应用于</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>SSD</span><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>文件系统。</span><span lang=EN-US style='font-family:"Times New Roman",serif'>
SFS </span><span style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>根据文件块的更新可能性对文件块进行分类，并将具有相似</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>“</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>热度</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>”</span><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>的块写入同一个日志段，以减少清理开销。</span><span lang=EN-US style='font-family:
"Times New Roman",serif'> F2FS</span><span style='mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman"'>使用多头日志记录，将元数据和数据写入独立的日志，并以高磁盘利用率将新数据直接写入脏段中的空闲空间，以避免频繁的垃圾收集。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt;background:white'><span
lang=EN-US style='font-family:"Times New Roman",serif'>RAMCloud</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>是一个基于</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>DRAM</span><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>的存储系统，它将所有的数据保存在</span><span lang=EN-US style='font-family:
"Times New Roman",serif'>DRAM</span><span style='mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman"'>中，用于读取服务并在硬盘上保留一个永久版本。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'> RAMCloud</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>将日志结构应用于</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>DRAM</span><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>和磁盘：它以日志结构的方式分配</span><span lang=EN-US style='font-family:
"Times New Roman",serif'>DRAM</span><span style='mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，实现比其他内存分配器更高的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>DRAM</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>利用率，并将备份数据存储在磁盘上的日志中。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><strong><span
lang=EN-US style='font-family:"等线 Light";mso-ascii-theme-font:major-latin;
mso-fareast-theme-font:major-latin;mso-hansi-theme-font:major-latin;mso-bidi-font-family:
"等线 Light";mso-bidi-theme-font:major-latin'><span style='mso-list:Ignore'>2.4<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span></span></strong><![endif]>针对<strong><span
lang=EN-US style='font-family:"等线 Light";mso-ascii-theme-font:major-latin;
mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-fareast;
mso-hansi-theme-font:major-latin;mso-bidi-font-family:"Times New Roman";
mso-bidi-theme-font:major-bidi'>NVMM</span></strong><strong><span
style='font-family:"等线 Light";mso-ascii-theme-font:major-latin;mso-fareast-font-family:
"等线 Light";mso-fareast-theme-font:major-fareast;mso-hansi-theme-font:major-latin;
mso-bidi-font-family:"Times New Roman";mso-bidi-theme-font:major-bidi'>的文件系统<span
lang=EN-US><o:p></o:p></span></span></strong></h2>

<p class=MsoNormal style='page-break-after:avoid'><span lang=EN-US
style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="图片_x0020_1" o:spid="_x0000_i1043"
 type="#_x0000_t75" style='width:415.2pt;height:255.6pt;visibility:visible;
 mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image002.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=554 height=341
src="NOVA.files/image003.jpg" v:shapes="图片_x0020_1"><![endif]></span></p>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Ref503126248"><span style='font-family:黑体;mso-ascii-font-family:"等线 Light";
mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:
major-latin'>图</span> </a><!--[if supportFields]><span style='mso-bookmark:
_Ref503126248'></span><span style='mso-element:field-begin'></span><span
style='mso-bookmark:_Ref503126248'><span lang=EN-US><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span></span><![endif]--><span style='mso-bookmark:
_Ref503126248'><span lang=EN-US><span style='mso-no-proof:yes'>2</span></span></span><!--[if supportFields]><span
style='mso-bookmark:_Ref503126248'></span><span style='mso-element:field-end'></span><![endif]--><span
style='mso-bookmark:_Ref503126248'><span lang=EN-US>&#8209;</span></span><!--[if supportFields]><span
style='mso-bookmark:_Ref503126248'></span><span style='mso-element:field-begin'></span><span
style='mso-bookmark:_Ref503126248'><span lang=EN-US> SEQ </span></span><span
style='mso-bookmark:_Ref503126248'><span style='font-family:黑体;mso-ascii-font-family:
"等线 Light";mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";
mso-hansi-theme-font:major-latin'>图</span><span lang=EN-US> \* ARABIC \s 1 <span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='mso-bookmark:_Ref503126248'><span lang=EN-US><span style='mso-no-proof:
yes'>1</span></span></span><!--[if supportFields]><span style='mso-bookmark:
_Ref503126248'></span><span style='mso-element:field-end'></span><![endif]--><span
style='mso-bookmark:_Ref503126248'></span><span lang=EN-US> </span><span
style='font-family:黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:
major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>针对</span><span
lang=EN-US>NVMM</span><span style='font-family:黑体;mso-ascii-font-family:"等线 Light";
mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:
major-latin'>的文件系统的比较</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";background:white'>如</span><!--[if supportFields]><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><span
style='mso-element:field-begin'></span> REF _Ref503126248 \h<span
style='mso-spacerun:yes'>&nbsp; </span>\* MERGEFORMAT <span style='mso-element:
field-separator'></span></span><![endif]--><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>图</span><span lang=EN-US
style='font-family:"Times New Roman",serif'> 2&#8209;1<span style='background:white'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F005200650066003500300033003100320036003200340038000000</w:data>
</xml><![endif]--></span></span><!--[if supportFields]><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'><span
style='mso-element:field-end'></span></span><![endif]--><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";background:white'>所示，显示了</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>6</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>种文件系统在元数据、数据和</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>mmap</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>原子性的特性说明情况。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>BPFS</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>是一个</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>shadow
paging</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>文件系统提供了元数据和数据的原子性。</span><span lang=EN-US style='font-family:
"Times New Roman",serif;background:white'>BPFS</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";background:white'>提出了硬件机制以便确保存储的持久性和顺序性，并采用了</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>short-circuit
shadow paging</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>（</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>SCSP</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>）减少了</span><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>shadow paging</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>的开销。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>PMFS</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>是一个轻量级的</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>DAX</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>文件系统绕过块层和文件系统页高速缓存（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>page
cache</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>）以便提高性能。</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>PMFS</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>使用</span><span lang=EN-US style='font-family:
"Times New Roman",serif;background:white'>journaling</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>来保证元数据的更新，因此元数据原子性得到了保证。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>Ext4-DAX</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>使用</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>DAX</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>功能扩展</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>Ext4</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>文件系统来直接访问</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>，并且使用</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>journaling</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>技术保证元数据更新的原子性。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>SCMFS</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>使用操作系统虚拟内存管理模块并且映射文件到大量连续的虚拟地址区域，使得文件访问简单，但它不提供任何元数据和数据的原子性保证。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><span
style='mso-spacerun:yes'>&nbsp; </span><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>Aerie</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>在用户空间实现了文件系统接口和功能以便提供</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>数据的低延迟访问。而</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>Aerie</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>只</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>journal
</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>元数据而不提供数据或</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>mmap</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>的操作的原子</span><span style='font-family:宋体;
mso-ascii-font-family:微软雅黑;mso-hansi-font-family:微软雅黑;background:white'>性。</span><span
lang=EN-US style='font-family:"微软雅黑",sans-serif;mso-fareast-font-family:宋体;
background:white'><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>是一个日志结构、</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>POSIX</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>混合易失和非易失内存文件系统，提供上述三种操作的原子性保证。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><o:p></o:p></span></p>

<h1 style='mso-list:l1 level1 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:等线;mso-fareast-theme-font:minor-latin;
mso-bidi-font-family:等线;mso-bidi-theme-font:minor-latin'><span
style='mso-list:Ignore'>3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Nova </span><span
style='font-family:宋体;mso-ascii-font-family:等线;mso-ascii-theme-font:minor-latin;
mso-hansi-font-family:等线;mso-hansi-theme-font:minor-latin'>设计概述</span></h1>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>是一个日志结构的</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>POSIX</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>文件系统，它建立在</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>LFS</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>的优势之上，并使它们适应混合内存系统的优势。</span><span
style='font-family:"Times New Roman",serif;background:white'> </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>因为它的目标是不同的存储技术，</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>看起来与为了最大化磁盘带宽而构建的传统的日志结构文件系统非常不同。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";background:white'>设计</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>基于以下三个观察。第一，日志支持原子更新容易在</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>上实现，但是对于查找操作不高效；第二，日志清理的复杂性主要来自需要提供连续空闲的存储空间，但是在</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>中没有必要，因为</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>中随机访问是便宜的；第三，对于磁盘而言，使用单个日志使合理的，但是这个限制了并发性。由于</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMMs</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>支持快速高并发随机访问，使用多个日志并不影响性能。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><b><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>将日志保存在</span></b><b><span lang=EN-US
style='font-family:"Times New Roman",serif'> NVMM </span></b><b><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>中索引保存在</span></b><b><span
lang=EN-US style='font-family:"Times New Roman",serif'>DRAM </span></b><b><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>中。</span></b><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>NOVA </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>将日志和文件数据保存在</span><span lang=EN-US style='font-family:
"Times New Roman",serif;mso-bidi-font-weight:bold'> NVMM </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>中</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>, </span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>并在</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'> DRAM </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>中生成</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>radix</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>树以快速执行搜索操作</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'>, </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>从而使</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'> NVMM </span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>的数据结构简单高效。论文中使用</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>radix</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>树</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>, </span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>因为在</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'> Linux</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>内核中有一个成熟、经过测试、广泛使用的实现。</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>Radix Tree</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:bold'>的叶子指向日志中的条目</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>, </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>依次指向文件数据。</span><span lang=EN-US style='font-family:
"Times New Roman",serif;mso-bidi-font-weight:bold'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><b><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>给每个</span></b><b><span lang=EN-US
style='font-family:"Times New Roman",serif'> inode </span></b><b><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>各自的</span></b><b><span
lang=EN-US style='font-family:"Times New Roman",serif'>log</span></b><b><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>。</span></b><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>NOVA </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>中的每个</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'> inode </span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:bold'>都有自己的日志</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>, </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>允许跨文件进行并发更新而不进行同步。此结构允许在文件访问和恢复期间具有高并发性</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>, </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>因为</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'> NOVA </span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>可以同时重播多个日志。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>NOVA </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>还保证有效日志项的数量很小</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'> (</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>按文件中的扩展盘数的顺序</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>), </span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>这样可以确保快速扫描日志</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>.<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><b><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span></b><b><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>使用</span></b><b><span
lang=EN-US style='font-family:"Times New Roman",serif'>logging</span></b><b><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>和轻量级的</span></b><b><span
lang=EN-US style='font-family:"Times New Roman",serif'>journaling</span></b><b><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>来执行复杂的原子更新。</span></b><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>NOVA</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>是日志结构的，因为它提供比</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'>Journaling</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>和</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>shadow paging</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:bold'>更便宜的原子更新。</span><span
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'> </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>要将数据自动写入</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>log</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>，</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>首先将数据附加到</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>log</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>，然后自动更新</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'>log</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>尾指针以提交更新，从而避免</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>Journaling</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:bold'>文件系统的重复写入开销和</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>shadow paging</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>系统的级联更新成本。</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:bold'>某些目录操作（如目录之间的移动）跨越多个</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>inode</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>，</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>NOVA</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>使用</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'>Journaling</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>来自动更新多个</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>log</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>。</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'> NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>首先在每个</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>inode log</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:bold'>的末尾写入数据，然后</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>journal log</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>尾部更新以自动更新它们。</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'> NOVA journaling</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>是轻量级的，因为它只涉及</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>log </span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>尾（而不是文件数据或元数据），并且没有</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>POSIX</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>文件操作对四个以上的</span><span lang=EN-US style='font-family:
"Times New Roman",serif;mso-bidi-font-weight:bold'>inode</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>进行操作。</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'><o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;text-indent:21.0pt;
page-break-after:avoid'><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="图片_x0020_18" o:spid="_x0000_i1042"
 type="#_x0000_t75" style='width:403.8pt;height:182.4pt;visibility:visible;
 mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image004.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=538 height=243
src="NOVA.files/image005.jpg" v:shapes="图片_x0020_18"><![endif]></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:
major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>图</span>
<!--[if supportFields]><span lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>3</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:major-latin;
mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>图</span><span
lang=EN-US> \* ARABIC \s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>1</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US> NOVA</span><span style='font-family:黑体;mso-ascii-font-family:"等线 Light";
mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:
major-latin'>的</span><span lang=EN-US>Journal</span><span style='font-family:
黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:major-latin;
mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>操作</span></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span lang=EN-US
style='font-family:"Times New Roman",serif'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b
style='mso-bidi-font-weight:normal'><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>以单链表的形式实验</span></b><b style='mso-bidi-font-weight:normal'><span
lang=EN-US style='font-family:"Times New Roman",serif'>log</span></b><b
style='mso-bidi-font-weight:normal'><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>。</span></b><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>顺序日志的局部优势在基于</span><span lang=EN-US style='font-family:"Times New Roman",serif'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的存储中不那么重要，因此</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>使用</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>4 KB NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>页面的链接链表来保存日志，并将下一页指针存储在每个日志页面的末尾。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='page-break-after:avoid'><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="图片_x0020_17" o:spid="_x0000_i1041" type="#_x0000_t75" style='width:415.2pt;
 height:32.4pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image006.emz" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=554 height=43
src="NOVA.files/image007.gif" v:shapes="图片_x0020_17"><![endif]></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:
major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>图</span>
<!--[if supportFields]><span lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>3</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:major-latin;
mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>图</span><span
lang=EN-US> \* ARABIC \s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>2</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US> NOVA</span><span style='font-family:黑体;mso-ascii-font-family:"等线 Light";
mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:
major-latin'>的</span><span lang=EN-US>log</span><span style='font-family:黑体;
mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:major-latin;mso-hansi-font-family:
"等线 Light";mso-hansi-theme-font:major-latin'>的形式</span><span lang=EN-US
style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"Times New Roman",serif'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>允许非顺序的日志存储提供了三个优点。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>首先，分配日志空间很简单，因为</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>不需要为日志分配大的连续区域。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>其次，</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>可以以精细粒度，页面大小的粒度执行日志清理。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>第三，回收仅包含陈旧条目的日志页面只需要几个指针分配。</span><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></b></p>

<p class=MsoNormal style='text-indent:21.0pt'><b><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>不</span></b><b><span lang=EN-US
style='font-family:"Times New Roman",serif'>log</span></b><b><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>文件数据。</span></b><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>NOVA</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>中的</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>inode</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>日志不包含文件数据。</span><span
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'> </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>相反，</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>NOVA</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>使用写入时复制修改的页面，并将关于写入的元数据追加到日志中。</span><span
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'> </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>元数据描述更新并指向数据页面。</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:bold'>对文件数据使用</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>copy-on-write</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>是有用的，原因如下：首先，它会缩短日志，加速恢复过程；其次，它使得垃圾收集变得更简单，更高效，因为</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>NOVA</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>从不需要将文件数据从</span><span lang=EN-US style='font-family:
"Times New Roman",serif;mso-bidi-font-weight:bold'>log</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>中复制出来以回收</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>log page</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:bold'>。</span><span
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'> </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>第三，回收陈旧的页面和分配新的数据页面都很容易，因为他们只需要添加页面和从</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>中删除页面。</span><span style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'> </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>第四，由于它可以立即回收过时的数据页面，因此即使在写入负载较重和</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>NVMM</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>利用率较高的情况下，</span><span lang=EN-US style='font-family:
"Times New Roman",serif;mso-bidi-font-weight:bold'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>也能保持性能。</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'><o:p></o:p></span></p>

<h1 style='mso-list:l1 level1 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:等线;mso-fareast-theme-font:minor-latin;
mso-bidi-font-family:等线;mso-bidi-theme-font:minor-latin'><span
style='mso-list:Ignore'>4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
等线;mso-ascii-theme-font:minor-latin;mso-hansi-font-family:等线;mso-hansi-theme-font:
minor-latin'>实现</span><span lang=EN-US>NOVA</span></h1>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>文章中在</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>Linux</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>内核版本</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>4.0</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>中实现了</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>。</span><span lang=EN-US
style='font-family:"Times New Roman",serif'> NOVA</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>使用内核中现有的</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NVMM</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>钩子并通过了</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>Linux POSIX</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>文件系统测试套件。源代码在</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>GitHub</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>上可以下载到，地址：</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>https://github.com/NVSL/NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>在本节中，我们首先描述整个文件系统布局及其原子性和写入顺序机制。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>然后，我们描述</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>如何执行原子目录，文件和</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>mmap</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>操作。</span><span style='font-family:
"Times New Roman",serif'> </span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>最后我们讨论</span><span lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>中的垃圾收集，恢复和内存保护。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>4.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><strong><span lang=EN-US style='font-family:
"等线 Light";mso-ascii-theme-font:major-latin;mso-fareast-font-family:"等线 Light";
mso-fareast-theme-font:major-fareast;mso-hansi-theme-font:major-latin;
mso-bidi-font-family:"Times New Roman";mso-bidi-theme-font:major-bidi'>NVMM</span></strong><strong><span
style='font-family:"等线 Light";mso-ascii-theme-font:major-latin;mso-fareast-font-family:
"等线 Light";mso-fareast-theme-font:major-fareast;mso-hansi-theme-font:major-latin;
mso-bidi-font-family:"Times New Roman";mso-bidi-theme-font:major-bidi'>数据结构和空间管理</span></strong><span
lang=EN-US>&nbsp;</span></h2>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid'><span
lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="图片_x0020_2"
 o:spid="_x0000_i1040" type="#_x0000_t75" style='width:348.6pt;height:211.8pt;
 visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image008.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=465 height=282
src="NOVA.files/image009.jpg" v:shapes="图片_x0020_2"><![endif]></span></p>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Ref503194255"><span style='font-family:黑体;mso-ascii-font-family:"等线 Light";
mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:
major-latin'>图</span> </a><!--[if supportFields]><span style='mso-bookmark:
_Ref503194255'></span><span style='mso-element:field-begin'></span><span
style='mso-bookmark:_Ref503194255'><span lang=EN-US><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span></span><![endif]--><span style='mso-bookmark:
_Ref503194255'><span lang=EN-US><span style='mso-no-proof:yes'>4</span></span></span><!--[if supportFields]><span
style='mso-bookmark:_Ref503194255'></span><span style='mso-element:field-end'></span><![endif]--><span
style='mso-bookmark:_Ref503194255'><span lang=EN-US>&#8209;</span></span><!--[if supportFields]><span
style='mso-bookmark:_Ref503194255'></span><span style='mso-element:field-begin'></span><span
style='mso-bookmark:_Ref503194255'><span lang=EN-US> SEQ </span></span><span
style='mso-bookmark:_Ref503194255'><span style='font-family:黑体;mso-ascii-font-family:
"等线 Light";mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";
mso-hansi-theme-font:major-latin'>图</span><span lang=EN-US> \* ARABIC \s 1 <span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='mso-bookmark:_Ref503194255'><span lang=EN-US><span style='mso-no-proof:
yes'>1</span></span></span><!--[if supportFields]><span style='mso-bookmark:
_Ref503194255'></span><span style='mso-element:field-end'></span><![endif]--><span
style='mso-bookmark:_Ref503194255'></span><span lang=EN-US> NOVA</span><span
style='font-family:黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:
major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>数据结构的布局</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";background:white'>如</span><!--[if supportFields]><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><span
style='mso-element:field-begin'></span> REF _Ref503194255 \h <span
style='mso-spacerun:yes'>&nbsp;</span>\* MERGEFORMAT <span style='mso-element:
field-separator'></span></span><![endif]--><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>图</span><span lang=EN-US
style='font-family:"Times New Roman",serif'> 4&#8209;1<span style='background:white'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F005200650066003500300033003100390034003200350035000000</w:data>
</xml><![endif]--></span></span><!--[if supportFields]><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'><span
style='mso-element:field-end'></span></span><![endif]--><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";background:white'>所示是</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>数据结构布局。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>将</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>分成四个部分：超级块（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>superblock</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>）和恢复结点（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>recovery
node</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>），</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>journals</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>以及日志</span><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>/</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>数据页（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>log/data
pages)</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>。该超级块包含文件系统的全局信息，恢复结点存储恢复信息以便加速</span><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>在正常关机情况下的重新挂载（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>remount</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>），索引节点表（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>inode
tables</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>）包含索引节点，</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>journals</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>提供目录操作的原子性并且剩余区域包含</span><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>日志和数据页。为了获得好的扩展性，</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>在每个</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>CPU</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>中保持一个索引结点表、</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>journal</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>和</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>空闲页列表（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>free
page list</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>）以避免全局锁和扩展性瓶颈。</span><span lang=EN-US style='font-family:
"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;mso-pagination:widow-orphan;
background:white'><b style='mso-bidi-font-weight:normal'><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>索引节点表（</span></b><b style='mso-bidi-font-weight:normal'><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>inode table</span></b><b style='mso-bidi-font-weight:
normal'><span style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-font-kerning:0pt'>）</span></b><span style='mso-bidi-font-size:
12.0pt;font-family:"微软雅黑",sans-serif;mso-fareast-font-family:宋体;mso-bidi-font-family:
宋体;mso-font-kerning:0pt'> </span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>NOVA</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>初始分配每个索引结点表为</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>2MB</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>块组的索引结点，每个索引结点以</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>128</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>字节边界对齐，所以给定一个索引结点号能够很容易定位到目标索引节点。</span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>NOVA</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>以</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>round-robin</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>顺序来分配新的索引结点到每个索引节点表中，这样索引结点能够比较平均地分布到众多索引节点表</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>(inode tables)</span><span style='mso-bidi-font-size:
12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>。为了减少索引节点表尺寸，每个</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>NOVA inode</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>包含一个有效位（</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>valid bit</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>）并且</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>NOVA</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>重新使用无效的索引结点用于新的文件或目录。每个</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>CPU</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>一个</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>inode table</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>可避免索引节点的分配争用并允许在故障恢复中并行扫描（</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>parallel scanning</span><span style='mso-bidi-font-size:
12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>）。每个</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>inode</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>包含日志的头尾指针，日志以</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>4KB</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>页的链表存在，并且日志尾指针总是指向最新的提交的日志项（</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>log entry</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>）。</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;mso-pagination:widow-orphan;
background:white'><b style='mso-bidi-font-weight:normal'><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>Journal </span></b><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>一个</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>的</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>journal</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>是一个</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>4KB</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>大小的循环缓存（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>circular
buffer),</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>并且</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>NOVA</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>用一个</span><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>(enqueue,dequeue)</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>指针对来管理每个</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>journal</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>。对于创建操作，</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA
journal</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>目录的日志尾指针和新的索引节点有效位。</span><span lang=EN-US style='font-family:
"Times New Roman",serif;background:white'>NOVA</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";background:white'>允许每个核一次打开一个事务并且每个</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>CPU</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>允许并发事务执行。每次目录操作，内核虚拟文件系统层锁住所有受影响的</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>inodes</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>，保证并发事务不会操作同一个索引节点。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;mso-pagination:widow-orphan;
background:white'><b style='mso-bidi-font-weight:normal'><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>NVMM</span></b><b style='mso-bidi-font-weight:normal'><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>空间管理</span></b><span style='mso-bidi-font-size:12.0pt;
font-family:"Times New Roman",serif;mso-font-kerning:0pt'> </span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>为了使得</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>NVMM</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>分配和回收快速，</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>NOVA</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>将</span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Times New Roman",serif;mso-font-kerning:0pt'>NVMM</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>划分成</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>pools,</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>每个</span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Times New Roman",serif;mso-font-kerning:0pt'>CPU</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>一个，并且在</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>DRAM</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>中保持</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>NVMM</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>空闲页列表。如果在当前的</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>CPU pool</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>中没有可用的页时，</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>NOVA</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>将从最新的</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>pool</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>中分配页并且使用</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>pool</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>锁来提供保护。为了减少分配尺寸，</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>NOVA</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>采用红黑树（</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>red-black tree</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>）以便保持空闲列表按地址排序，允许高效合并以及提供</span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>O(log n</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>）回收。</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'><o:p></o:p></span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>4.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>原子性和强制写顺序</h2>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>提供元数据、数据和</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>mmap</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>更新的原子性，通过使用结合日志结构和</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>journaling</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>两种方法的技术实现。该技术使用如下三种机制</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>:<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:24.1pt;mso-char-indent-count:2.0;
mso-pagination:widow-orphan;background:white'><b style='mso-bidi-font-weight:
normal'><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>64</span></b><b style='mso-bidi-font-weight:normal'><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>位原子更新</span></b><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>：当前处理器支持易失性内存的</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>64</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>位原子写。</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>NOVA</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>使用</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>64</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>位原地写以便直接修改元数据，如文件的读访问时间等某些操作，并且使用</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>64</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>位原子写通过更新索引节点的日志尾指针来提交更新到日志中。</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:24.1pt;mso-char-indent-count:2.0;
mso-pagination:widow-orphan;background:white'><b style='mso-bidi-font-weight:
normal'><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>Logging</span></b><b style='mso-bidi-font-weight:normal'><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>：</span></b><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>NOVA</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>采用索引结点日志以便记录修改单个索引结点的所有操作。这些操作包括</span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>write</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>，</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>msync</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>和</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>chmod</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>。每个索引结点的日志是相互独立存在的。</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:24.1pt;mso-char-indent-count:2.0;
mso-pagination:widow-orphan;background:white'><b style='mso-bidi-font-weight:
normal'><span style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-font-kerning:0pt'>轻量级</span></b><b style='mso-bidi-font-weight:
normal'><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>Journaling</span></b><b style='mso-bidi-font-weight:normal'><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>：</span></b><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>对于目录操作要求改变多个索引结点的操作如</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>create</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>，</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>unlink</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>和</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>rename</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>，</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>NOVA</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>采用轻量级的日志提供原子性。任何时间内，任何</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>journal</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>的数据是小的，不会超过</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>64</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>字节。</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:24.1pt;mso-char-indent-count:2.0;
mso-pagination:widow-orphan;background:white'><b style='mso-bidi-font-weight:
normal'><span style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-font-kerning:0pt'>强制写排序</span></b><b style='mso-bidi-font-weight:
normal'><span style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> </span></b><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>NOVA</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>依赖三个写顺序规则确保一致性。首先，它在更新日志尾指针前提交数据和日志条目到</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>中；第二，它在传输更新前提交</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>journal</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>的数据到</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>；最后，在回收过时版本之前提交数据页的新版本。如果</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>运行在一个支持</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>clflushopt,clwb</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>和</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>PCOMMIT</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>指令的系统上，将使用如下面的伪代码确保写顺序性。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;color:#3F3F3F;background:
white'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:12.0pt;mso-para-margin-left:1.0gd;
mso-pagination:widow-orphan'><span lang=EN-US style='font-size:9.5pt;
font-family:"Times New Roman",serif;color:#333333;mso-font-kerning:0pt'>new_tail
</span><span lang=EN-US style='font-size:9.5pt;font-family:"Times New Roman",serif;
color:black;mso-font-kerning:0pt'>=</span><span lang=EN-US style='font-size:
9.5pt;font-family:"Times New Roman",serif;color:#333333;mso-font-kerning:0pt'>
append_to_log(inode</span><span lang=EN-US style='font-size:9.5pt;font-family:
"Times New Roman",serif;color:black;mso-font-kerning:0pt'>-&gt;</span><span
lang=EN-US style='font-size:9.5pt;font-family:"Times New Roman",serif;
color:#333333;mso-font-kerning:0pt'>tail, entry);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:12.0pt;mso-para-margin-left:1.0gd;
mso-pagination:widow-orphan'><span lang=EN-US style='font-size:9.5pt;
font-family:"Times New Roman",serif;color:#880000;mso-font-kerning:0pt'>//
writes back the log entry cachelines</span><span lang=EN-US style='font-size:
9.5pt;font-family:"Times New Roman",serif;color:#333333;mso-font-kerning:0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:12.0pt;mso-para-margin-left:1.0gd;
mso-pagination:widow-orphan'><span lang=EN-US style='font-size:9.5pt;
font-family:"Times New Roman",serif;color:#333333;mso-font-kerning:0pt'>clwb(inode</span><span
lang=EN-US style='font-size:9.5pt;font-family:"Times New Roman",serif;
color:black;mso-font-kerning:0pt'>-&gt;</span><span lang=EN-US
style='font-size:9.5pt;font-family:"Times New Roman",serif;color:#333333;
mso-font-kerning:0pt'>tail, entry</span><span lang=EN-US style='font-size:9.5pt;
font-family:"Times New Roman",serif;color:black;mso-font-kerning:0pt'>-&gt;</span><span
lang=EN-US style='font-size:9.5pt;font-family:"Times New Roman",serif;
color:#333333;mso-font-kerning:0pt'>length);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:12.0pt;mso-para-margin-left:1.0gd;
mso-pagination:widow-orphan'><span lang=EN-US style='font-size:9.5pt;
font-family:"Times New Roman",serif;color:#333333;mso-font-kerning:0pt'>sfence();
</span><span lang=EN-US style='font-size:9.5pt;font-family:"Times New Roman",serif;
color:#880000;mso-font-kerning:0pt'>// orders subsequent PCOMMIT</span><span
lang=EN-US style='font-size:9.5pt;font-family:"Times New Roman",serif;
color:#333333;mso-font-kerning:0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:12.0pt;mso-para-margin-left:1.0gd;
mso-pagination:widow-orphan'><span lang=EN-US style='font-size:9.5pt;
font-family:"Times New Roman",serif;color:#333333;mso-font-kerning:0pt'>PCOMMIT();
</span><span lang=EN-US style='font-size:9.5pt;font-family:"Times New Roman",serif;
color:#880000;mso-font-kerning:0pt'>// commits entry to NVMM</span><span
lang=EN-US style='font-size:9.5pt;font-family:"Times New Roman",serif;
color:#333333;mso-font-kerning:0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:12.0pt;mso-para-margin-left:1.0gd;
mso-pagination:widow-orphan'><span lang=EN-US style='font-size:9.5pt;
font-family:"Times New Roman",serif;color:#333333;mso-font-kerning:0pt'>sfence();
</span><span lang=EN-US style='font-size:9.5pt;font-family:"Times New Roman",serif;
color:#880000;mso-font-kerning:0pt'>// orders subsequent store</span><span
lang=EN-US style='font-size:9.5pt;font-family:"Times New Roman",serif;
color:#333333;mso-font-kerning:0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:12.0pt;mso-para-margin-left:1.0gd;
mso-pagination:widow-orphan;background:white'><span lang=EN-US
style='font-size:9.5pt;font-family:"Times New Roman",serif;color:#333333;
mso-font-kerning:0pt'>inode</span><span lang=EN-US style='font-size:9.5pt;
font-family:"Times New Roman",serif;color:black;mso-font-kerning:0pt'>-&gt;</span><span
lang=EN-US style='font-size:9.5pt;font-family:"Times New Roman",serif;
color:#333333;mso-font-kerning:0pt'>tail </span><span lang=EN-US
style='font-size:9.5pt;font-family:"Times New Roman",serif;color:black;
mso-font-kerning:0pt'>=</span><span lang=EN-US style='font-size:9.5pt;
font-family:"Times New Roman",serif;color:#333333;mso-font-kerning:0pt'>
new_tail;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:12.0pt;mso-para-margin-left:1.0gd;
text-indent:12.0pt;mso-char-indent-count:1.0;mso-pagination:widow-orphan;
background:white'><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>如果平台不支持上述新指令，</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>NOVA</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>采用</span><span lang=EN-US style='font-family:
"Times New Roman",serif;background:white'>movntq</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";background:white'>非时序移动指令绕过</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:widow-orphan;background:white'><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>CPU</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>高速缓存层以便直接写</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>，并且结合</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>clflush</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>和</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>sfence</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>确保写顺序性。</span><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'><o:p></o:p></span></b></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>4.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>目录操作</h2>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>对目录操作进行了优化，包括</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>link</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>，</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>symlink</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>以及</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>rename</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>。它将目录分成两个部分：一个是存在</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>中的目录索引结点日志，一个是存在</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>中的</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>radix
tree</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>。</span><!--[if supportFields]><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'><span
style='mso-element:field-begin'></span> REF _Ref503194921 \h<span
style='mso-spacerun:yes'>&nbsp; </span>\* MERGEFORMAT <span style='mso-element:
field-separator'></span></span><![endif]--><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>图</span><span lang=EN-US
style='font-family:"Times New Roman",serif'> 4&#8209;2<span style='background:white'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F005200650066003500300033003100390034003900320031000000</w:data>
</xml><![endif]--></span></span><!--[if supportFields]><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'><span
style='mso-element:field-end'></span></span><![endif]--><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";background:white'>表明了这些部件的关系。目录日志（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>directory
log</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>）包括了两个条目：目录条目（</span><span lang=EN-US style='font-family:
"Times New Roman",serif;background:white'>directory entries</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>，简称</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>dentry</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>）和索引结点更新条目（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>inode
update entries</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>）。</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>Dentries</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>包括子文件</span><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>/</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>目录的名字，它的索引结点号（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>inode
number</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>）以及时间戳（</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>timestamp</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>）。为了加速目录条目的检索，</span><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>将每个目录索引结点保存在</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>中的</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>radix
tree</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>中。</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>NOVA</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>使用当前</span><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>CPU</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>的</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>Journal</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>去原子地更新目录日志的尾指针并且设置新的索引结点的有效位。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;color:#3F3F3F;background:
white'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;text-indent:21.0pt;
page-break-after:avoid'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1039" type="#_x0000_t75" style='width:327.6pt;height:175.2pt;
 visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image010.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=437 height=234
src="NOVA.files/image011.jpg" v:shapes="_x0000_i1039"><![endif]></span></p>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Ref503194921"><span style='font-family:黑体;mso-ascii-font-family:"等线 Light";
mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:
major-latin'>图</span> </a><!--[if supportFields]><span style='mso-bookmark:
_Ref503194921'></span><span style='mso-element:field-begin'></span><span
style='mso-bookmark:_Ref503194921'><span lang=EN-US><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span></span><![endif]--><span style='mso-bookmark:
_Ref503194921'><span lang=EN-US><span style='mso-no-proof:yes'>4</span></span></span><!--[if supportFields]><span
style='mso-bookmark:_Ref503194921'></span><span style='mso-element:field-end'></span><![endif]--><span
style='mso-bookmark:_Ref503194921'><span lang=EN-US>&#8209;</span></span><!--[if supportFields]><span
style='mso-bookmark:_Ref503194921'></span><span style='mso-element:field-begin'></span><span
style='mso-bookmark:_Ref503194921'><span lang=EN-US> SEQ </span></span><span
style='mso-bookmark:_Ref503194921'><span style='font-family:黑体;mso-ascii-font-family:
"等线 Light";mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";
mso-hansi-theme-font:major-latin'>图</span><span lang=EN-US> \* ARABIC \s 1 <span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='mso-bookmark:_Ref503194921'><span lang=EN-US><span style='mso-no-proof:
yes'>2</span></span></span><!--[if supportFields]><span style='mso-bookmark:
_Ref503194921'></span><span style='mso-element:field-end'></span><![endif]--><span
style='mso-bookmark:_Ref503194921'></span><span lang=EN-US> NOVA</span><span
style='font-family:黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:
major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>目录结构</span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:1.75gd;
tab-stops:36.0pt'><b style='mso-bidi-font-weight:normal'><span
style='font-family:宋体;mso-ascii-font-family:等线;mso-ascii-theme-font:minor-latin;
mso-hansi-font-family:等线;mso-hansi-theme-font:minor-latin'>创建文件</span> </b><span
lang=EN-US style='font-family:"Times New Roman",serif'>1.</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>在</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'> inode table </span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:bold'>里面为</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'> zoo </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>选择并初始化一个未使用的</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'> inode</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:36.0pt'><span lang=EN-US style='font-family:
"Times New Roman",serif;mso-bidi-font-weight:bold'>2.</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>将</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'> zoo </span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>的</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'> dentry </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>添加到目录的</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'> log </span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>里面</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'> 3.</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>使用当前</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'> CPU journal </span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:bold'>更新</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'> dir </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>目录的</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'> log tail </span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:bold'>和给新的</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'> inode </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>设置一个</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'> valid </span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:bold'>位。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>4</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>将</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'> zoo </span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>添加到</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'> radix
tee </span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>上面。</span><span lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt;mso-para-margin-left:1.75gd'><b
style='mso-bidi-font-weight:normal'><span style='font-family:宋体;mso-ascii-font-family:
等线;mso-ascii-theme-font:minor-latin;mso-hansi-font-family:等线;mso-hansi-theme-font:
minor-latin'>删除文件</span> </b><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>在</span><span lang=EN-US style='font-family:"Times New Roman",serif'>Linux</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>中，删除文件需要两次更新：第一次减少文件</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>inode</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman"'>链接数，第二次从封闭目录中删除文件。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>首先将</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>delete dentry log entry</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>附加到目录</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>inode log</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>中，然后，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>inode</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>会更新文件</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>inode log </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的条目，然后使用</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>journaling</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>机制以原子方式更新两个</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>log tails</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>最后，它将更改传播到</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>DRAM</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>中目录的</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>radix tree</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>4.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>原子的文件操作</h2>

<p class=MsoNormal style='text-indent:21.0pt;mso-pagination:widow-orphan;
background:white'><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:
"Times New Roman",serif;background:white'>NOVA </span><span style='mso-bidi-font-size:
12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>的文件</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
background:white'> log </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>包含两种，一个是</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
background:white'> inode update entries</span><span style='mso-bidi-font-size:
12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>，另一个</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
background:white'> write entries</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>，</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
background:white'>write entry </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>里面会描述</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
background:white'> write operation </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>以及指向实际的</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
background:white'> data page</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>。如果一次写入太大，</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
background:white'>NOVA </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>会使用多个</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
background:white'> write entries</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>，并将它们全部追加到</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
background:white'> log </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>后面，然后最后更新</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
background:white'> log tail</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>。</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
background:white'><o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;text-indent:21.0pt;
mso-pagination:widow-orphan;page-break-after:avoid;background:white'><span
lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="图片_x0020_4"
 o:spid="_x0000_i1038" type="#_x0000_t75" style='width:294.6pt;height:201.6pt;
 visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image012.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=393 height=269
src="NOVA.files/image013.jpg" v:shapes="图片_x0020_4"><![endif]></span></p>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Ref503201114"><span style='font-family:黑体;mso-ascii-font-family:"等线 Light";
mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:
major-latin'>图</span> </a><!--[if supportFields]><span style='mso-bookmark:
_Ref503201114'></span><span style='mso-element:field-begin'></span><span
style='mso-bookmark:_Ref503201114'><span lang=EN-US><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span></span><![endif]--><span style='mso-bookmark:
_Ref503201114'><span lang=EN-US><span style='mso-no-proof:yes'>4</span></span></span><!--[if supportFields]><span
style='mso-bookmark:_Ref503201114'></span><span style='mso-element:field-end'></span><![endif]--><span
style='mso-bookmark:_Ref503201114'><span lang=EN-US>&#8209;</span></span><!--[if supportFields]><span
style='mso-bookmark:_Ref503201114'></span><span style='mso-element:field-begin'></span><span
style='mso-bookmark:_Ref503201114'><span lang=EN-US> SEQ </span></span><span
style='mso-bookmark:_Ref503201114'><span style='font-family:黑体;mso-ascii-font-family:
"等线 Light";mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";
mso-hansi-theme-font:major-latin'>图</span><span lang=EN-US> \* ARABIC \s 1 <span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='mso-bookmark:_Ref503201114'><span lang=EN-US><span style='mso-no-proof:
yes'>3</span></span></span><!--[if supportFields]><span style='mso-bookmark:
_Ref503201114'></span><span style='mso-element:field-end'></span><![endif]--><span
style='mso-bookmark:_Ref503201114'></span><span lang=EN-US> NOVA</span><span
style='font-family:黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:
major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>的文件结构</span></p>

<p class=MsoNormal style='text-indent:21.0pt;mso-pagination:widow-orphan;
background:white'><!--[if supportFields]><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'><span
style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>REF _Ref503201114 \h<span
style='mso-spacerun:yes'>&nbsp; </span>\* MERGEFORMAT <span style='mso-element:
field-separator'></span></span><![endif]--><span style='mso-bidi-font-size:
12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>图</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif'>
4&#8209;3</span><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F005200650066003500300033003200300031003100310034000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'><span style='mso-element:field-end'></span></span><![endif]--><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>展示的是一个文件写入例子，上面的</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>&nbsp;&lt;0,
1&gt;&nbsp;</span><span style='mso-bidi-font-size:12.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>这种的表示</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>&nbsp;&lt;filepageoff, num pages&gt;</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>，也就是</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'> page </span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>的</span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Times New Roman",serif;mso-font-kerning:0pt'> offset </span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>和有多少个</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'> page</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>。譬如</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>&nbsp;&lt;0,
1&gt;&nbsp;</span><span style='mso-bidi-font-size:12.0pt;font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>就表示这个</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> page </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>的</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> offset </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>是</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> 0</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>，</span><span
style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>有一个</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> page</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>，也就是</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> 4 KB</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>。当我们要进行一次</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>&nbsp;&lt;2, 2&gt;&nbsp;</span><span style='mso-bidi-font-size:
12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>写入（也就是在</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> offset </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>为</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> 2 </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>的地方重新写入</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> 2 pages</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>），流程如下：</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:widow-orphan;background:white'><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>1. </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>使用</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> COW </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>技术将数据写入到</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> data page </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>上面</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:widow-orphan;background:white'><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>2.</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>将</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>&nbsp;&lt;2, 2&gt;&nbsp;</span><span style='mso-bidi-font-size:
12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>追加到</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> inode log </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>上面</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:widow-orphan;background:white'><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>3.</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>原子更新</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> log tail</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>，提交这次写入</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:widow-orphan;background:white'><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>4.</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>更新</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> DRAM </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>里面的</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> radix tree</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>，这样</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> offset 2 </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>就指向了新的</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> page<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:widow-orphan;background:white'><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>5.</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>将之前旧的两个</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> page </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>放到</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> free list </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>里面</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:7.5pt;text-indent:21.0pt;mso-pagination:
widow-orphan;background:white'><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>上面需要注意，虽然我们更新</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> log tail </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>是原子的，但并没有保证原子更新</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> log tail </span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>和</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> radix tree</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>，这里使用了一个</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'> read-write lock</span><span style='mso-bidi-font-size:
12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>，其实感觉并不高效，可以考虑考虑优化。</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'><o:p></o:p></span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>4.5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>原子的<span lang=EN-US>mmap</span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>DAX(Direct Access</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>）文件系统允许应用程序通过</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>load</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>和</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>store</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>指令去直接访问</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>，通过将物理的</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>文件数据页映射到应用程序物理地址空间中。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>DAX-mmap</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>绕过文件系统页高速缓存（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>page
cache</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>）并且避免了</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>paging</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>开销，程序员现有可用的原子性机制包括</span><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>64</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>位写、</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>fences</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>以及高速缓存刷新指令（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>clflush</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>），仅用这些原语构建强健的非易失数据结构是非常困难的。为了解决这个问题，</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>提出了</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>atomic-mmap</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>，它是一个具有强一致性的直接</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>访问模型。由于</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>对于文件数据使用写时拷贝技术并且立即回收过时的数据页（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>stale
data pages</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>），它不支持</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>DAX-mmap</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>。</span><span lang=EN-US style='font-family:
"Times New Roman",serif;background:white'>Atomic-mmap</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>比</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>DAX-mmap</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>有更高的开销但是提供更强的一致性保证。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><o:p></o:p></span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>4.6<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>垃圾回收</h2>

<p style='margin:0cm;margin-bottom:.0001pt;text-indent:21.0pt;background:white'><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>的日志采用链表（</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>linked list</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>）形式并且仅包含元数据，是的垃圾回收简单高效。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>垃圾回收机制分</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>Fast GC</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>和</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>Thorough GC</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>。分别如下介绍。</span><span lang=EN-US
style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p style='margin:0cm;margin-bottom:.0001pt;text-indent:24.1pt;mso-char-indent-count:
2.0;background:white'><b style='mso-bidi-font-weight:normal'><span lang=EN-US
style='font-family:"Times New Roman",serif'>Fast GC&nbsp;</span></b><span
lang=EN-US style='font-family:"Times New Roman",serif'> Fast GC</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>不要求任何的拷贝（</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>copying</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>）。如果在一个日志页中的所有条目过时（</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>dead</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>），那么</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>Fast GC</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>通过从日志链表中删除该页来回收日志空间。如</span><!--[if supportFields]><span
lang=EN-US style='font-family:"Times New Roman",serif'><span style='mso-element:
field-begin'></span> REF _Ref503201505 \h <span
style='mso-spacerun:yes'>&nbsp;</span>\* MERGEFORMAT <span style='mso-element:
field-separator'></span></span><![endif]--><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>图</span><span lang=EN-US style='font-family:"Times New Roman",serif'>
4&#8209;4<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F005200650066003500300033003200300031003500300035000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span lang=EN-US
style='font-family:"Times New Roman",serif'><span style='mso-element:field-end'></span></span><![endif]--><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>（</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>a</span><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>）展示一个快速日志垃圾回收的例子。</span><span lang=EN-US style='font-family:
"Times New Roman",serif'><o:p></o:p></span></p>

<p style='margin:0cm;margin-bottom:.0001pt;text-indent:24.1pt;mso-char-indent-count:
2.0;background:white'><b style='mso-bidi-font-weight:normal'><span lang=EN-US
style='font-family:"Times New Roman",serif'>Thorough GC&nbsp;</span></b><span
lang=EN-US style='font-family:"Times New Roman",serif'> </span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>在</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>Fast GC</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>日志扫描期间，</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>记录每个日志空间存活日志（</span><span lang=EN-US style='font-family:
"Times New Roman",serif'>log</span><span style='mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman"'>）条目所占的空间比例。如果存活的条目所占的空间少于日志空间的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>50%</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>，</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>就利用</span><span lang=EN-US style='font-family:"Times New Roman",serif'>Fast
GC</span><span style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>结束后的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Thorough GC</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>来拷贝获得条目到一个新的更加紧实的日志版本中，更新</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>DRAM</span><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>数据结构指向新的日志，然后使用新的日志原子地替换旧的日志，最后并回收该旧日志。具体例子</span><!--[if supportFields]><span
lang=EN-US style='font-family:"Times New Roman",serif'><span style='mso-element:
field-begin'></span> REF _Ref503201505 \h <span
style='mso-spacerun:yes'>&nbsp;</span>\* MERGEFORMAT <span style='mso-element:
field-separator'></span></span><![endif]--><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>图</span><span lang=EN-US style='font-family:"Times New Roman",serif'>
4&#8209;4<!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F005200650066003500300033003200300031003500300035000000</w:data>
</xml><![endif]--></span><!--[if supportFields]><span lang=EN-US
style='font-family:"Times New Roman",serif'><span style='mso-element:field-end'></span></span><![endif]--><span
style='mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>（</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>b</span><span style='mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>）所示。</span><span lang=EN-US style='font-family:"Times New Roman",serif;
color:#3F3F3F'>&nbsp;<o:p></o:p></span></p>

<p align=center style='margin-top:0cm;margin-right:0cm;margin-bottom:20.4pt;
margin-left:0cm;text-align:center;line-height:20.4pt;page-break-after:avoid;
background:white'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="图片_x0020_5" o:spid="_x0000_i1037" type="#_x0000_t75" style='width:393.6pt;
 height:228pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image014.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=525 height=304
src="NOVA.files/image015.jpg" v:shapes="图片_x0020_5"><![endif]></span></p>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Ref503201505"><span style='font-family:黑体;mso-ascii-font-family:"等线 Light";
mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:
major-latin'>图</span> </a><!--[if supportFields]><span style='mso-bookmark:
_Ref503201505'></span><span style='mso-element:field-begin'></span><span
style='mso-bookmark:_Ref503201505'><span lang=EN-US><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span></span><![endif]--><span style='mso-bookmark:
_Ref503201505'><span lang=EN-US><span style='mso-no-proof:yes'>4</span></span></span><!--[if supportFields]><span
style='mso-bookmark:_Ref503201505'></span><span style='mso-element:field-end'></span><![endif]--><span
style='mso-bookmark:_Ref503201505'><span lang=EN-US>&#8209;</span></span><!--[if supportFields]><span
style='mso-bookmark:_Ref503201505'></span><span style='mso-element:field-begin'></span><span
style='mso-bookmark:_Ref503201505'><span lang=EN-US> SEQ </span></span><span
style='mso-bookmark:_Ref503201505'><span style='font-family:黑体;mso-ascii-font-family:
"等线 Light";mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";
mso-hansi-theme-font:major-latin'>图</span><span lang=EN-US> \* ARABIC \s 1 <span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='mso-bookmark:_Ref503201505'><span lang=EN-US><span style='mso-no-proof:
yes'>4</span></span></span><!--[if supportFields]><span style='mso-bookmark:
_Ref503201505'></span><span style='mso-element:field-end'></span><![endif]--><span
style='mso-bookmark:_Ref503201505'></span><span lang=EN-US> NOVA log cleaning</span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>4.7<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>关机和恢复</h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>当</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>重新挂载文件系统时，它将重构需要的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>数据结构。由于应用程序可能仅访问文件系统的一部分索引节点（</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>inodes</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>），所以</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>采用一个称为延迟重建（</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>lazy rebuild</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>）的策略以便减少恢复时间。它推迟重建</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>radix</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>树和索引结点，直到文件系统第一次访问该索引结点时才重建。这个策略加速了恢复过程并且减少了</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的消耗。</span><span
lang=EN-US style='mso-bidi-font-size:16.0pt;font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt;mso-pagination:widow-orphan;
background:white'><b style='mso-bidi-font-weight:normal'><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>正常关机的恢复</span></b><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>&nbsp;</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>对于正常关机操作，</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>NOVA</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>将</span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Times New Roman",serif;mso-font-kerning:0pt'>NVMM</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>页分配状态保存到恢复索引结点日志（</span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>recovery inode’s log</span><span style='mso-bidi-font-size:
12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>）中并且在接下来的</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>remount</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>操作中恢复该分配状态。这个过程中，</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>NOVA</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>不需要扫描任何的索引节点日志，所以恢复过程很快。</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:11.9pt;mso-pagination:widow-orphan;
background:white'><b style='mso-bidi-font-weight:normal'><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>失败恢复</span></b><b style='mso-bidi-font-weight:normal'><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>&nbsp;</span></b><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>在系统故障发生是，</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>NOVA</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>通过扫描索引结点日志来重建</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>NVMM</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>分配器信息。</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>NOVA</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>的日志扫描过程是快速的，原因有两点，其一是每个</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>CPU</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>的索引结点表和每个索引结点均有一个</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>log</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>允许日志恢复的巨大的并行性；第二点是因为</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>NOVA</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>的日志仅包含元数据而不包含数据页，日志很短。</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'>NOVA</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-font-kerning:0pt'>的失败恢复过程包括两步：</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:29.75pt;text-indent:-17.85pt;mso-pagination:
widow-orphan;mso-list:l4 level1 lfo2;tab-stops:-106.8pt;background:white'><![if !supportLists]><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";mso-font-kerning:0pt'><span
style='mso-list:Ignore'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Times New Roman",serif;mso-font-kerning:0pt'>NOVA</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>检查每个</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>journal</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>并且回滚任何未提交的事务以便恢复文件系统到一致性状态。</span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:29.75pt;text-indent:-17.85pt;mso-pagination:
widow-orphan;mso-list:l4 level1 lfo2;tab-stops:-106.8pt;background:white'><![if !supportLists]><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman";mso-font-kerning:0pt'><span
style='mso-list:Ignore'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Times New Roman",serif;mso-font-kerning:0pt'>NOVA</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>在每个</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;mso-font-kerning:0pt'>CPU</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-font-kerning:0pt'>中运行一个恢复进程并且并行扫描索引节点表，为索引节点表中的每一个有效的索引节点执行日志扫描。</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
mso-font-kerning:0pt'><o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;mso-pagination:widow-orphan;
page-break-after:avoid;background:white'><span lang=EN-US style='mso-no-proof:
yes'><!--[if gte vml 1]><v:shape id="_x0000_i1036" type="#_x0000_t75" style='width:357pt;
 height:226.8pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image016.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=476 height=302
src="NOVA.files/image017.jpg" v:shapes="_x0000_i1036"><![endif]></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:
major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>图</span>
<!--[if supportFields]><span lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>4</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:major-latin;
mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>图</span><span
lang=EN-US> \* ARABIC \s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>5</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US> NOVA</span><span style='font-family:黑体;mso-ascii-font-family:"等线 Light";
mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:
major-latin'>关机恢复</span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>4.8<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><strong><span lang=EN-US style='font-family:
"等线 Light";mso-ascii-theme-font:major-latin;mso-fareast-font-family:"等线 Light";
mso-fareast-theme-font:major-fareast;mso-hansi-theme-font:major-latin;
mso-bidi-font-family:"Times New Roman";mso-bidi-theme-font:major-bidi'>NVMM</span></strong><strong><span
style='font-family:"等线 Light";mso-ascii-theme-font:major-latin;mso-fareast-font-family:
"等线 Light";mso-fareast-theme-font:major-fareast;mso-hansi-theme-font:major-latin;
mso-bidi-font-family:"Times New Roman";mso-bidi-theme-font:major-bidi'>保护</span></strong><span
lang=EN-US>&nbsp;</span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";background:white'>为了保护文件系统并且防止</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>免受流浪写的持久腐蚀影响，</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>必须确保只有系统软件才能够访问</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>采用</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>PMFS</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>相同的保护机制。在文件系统挂载时，整个</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>区域被映射为只读。当</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>需要写</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>页时，它通过禁止（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>disable</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>）处理器的写保护控制（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>CR0.WP</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>）以便打开一个<strong><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman"'>写窗口</span></strong>（</span><strong><span lang=EN-US
style='background:white'>write window</span></strong><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";background:white'>）。当</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>CR0.WP</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>被清理时，内核软件以</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>ring 0</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>权限运行则可以写内核空间中标记为只读的页。写完后，</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>又重置</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>CR0.WP</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>以便关闭该写窗口。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><o:p></o:p></span></p>

<h1 style='mso-list:l1 level1 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:等线;mso-fareast-theme-font:minor-latin;
mso-bidi-font-family:等线;mso-bidi-theme-font:minor-latin'><span
style='mso-list:Ignore'>5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
等线;mso-ascii-theme-font:minor-latin;mso-hansi-font-family:等线;mso-hansi-theme-font:
minor-latin'>评价</span></h1>

<p class=MsoNormal style='text-indent:24.0pt;mso-char-indent-count:2.0;
tab-stops:36.0pt'><span lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>采用了因特尔持久内存模拟平台（</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Intel PM Emulation
Platform</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，简称</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>PMEP</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>）。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>1.</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>用</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>PMEP</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>模拟了不同的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>特征；</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>2.</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>模拟了</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>clwb/PCOMMIT</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的延迟。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;tab-stops:36.0pt'><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="Picture_x0020_2" o:spid="_x0000_i1035" type="#_x0000_t75" alt="这里写图片描述"
 style='width:376.8pt;height:129pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image018.png" o:title="这里写图片描述"/>
</v:shape><![endif]--><![if !vml]><img width=502 height=172
src="NOVA.files/image019.gif" alt=这里写图片描述 v:shapes="Picture_x0020_2"><![endif]></span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:36.0pt'><span lang=EN-US style='font-family:
"Times New Roman",serif;color:#3F3F3F;background:white'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b
style='mso-bidi-font-weight:normal'>NOVA</b></span><b style='mso-bidi-font-weight:
normal'><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#3F3F3F;background:white'>提供了低延迟的原子性</span></b><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:#3F3F3F;background:white'>。如</span><!--[if supportFields]><span
lang=EN-US style='font-family:"Times New Roman",serif;color:#3F3F3F;background:
white'><span style='mso-element:field-begin'></span> REF _Ref503203257 \h<span
style='mso-spacerun:yes'>&nbsp; </span>\* MERGEFORMAT <span style='mso-element:
field-separator'></span></span><![endif]--><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>图</span><span lang=EN-US
style='font-family:"Times New Roman",serif'> 5&#8209;1<span style='color:#3F3F3F;
background:white'><!--[if gte mso 9]><xml>
 <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F005200650066003500300033003200300033003200350037000000</w:data>
</xml><![endif]--></span></span><!--[if supportFields]><span lang=EN-US
style='font-family:"Times New Roman",serif;color:#3F3F3F;background:white'><span
style='mso-element:field-end'></span></span><![endif]--><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:#3F3F3F;background:white'>所示：</span><span
lang=EN-US style='font-family:"Times New Roman",serif;color:#3F3F3F;background:
white'>&nbsp;</span><span lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid;
tab-stops:36.0pt'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="_x0000_i1034" type="#_x0000_t75" alt="这里写图片描述" style='width:249pt;
 height:196.8pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image020.png" o:title="这里写图片描述"/>
</v:shape><![endif]--><![if !vml]><img width=332 height=262
src="NOVA.files/image021.gif" alt=这里写图片描述 v:shapes="_x0000_i1034"><![endif]></span></p>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Ref503203257"><span style='font-family:黑体;mso-ascii-font-family:"等线 Light";
mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:
major-latin'>图</span> </a><!--[if supportFields]><span style='mso-bookmark:
_Ref503203257'></span><span style='mso-element:field-begin'></span><span
style='mso-bookmark:_Ref503203257'><span lang=EN-US><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span></span><![endif]--><span style='mso-bookmark:
_Ref503203257'><span lang=EN-US><span style='mso-no-proof:yes'>5</span></span></span><!--[if supportFields]><span
style='mso-bookmark:_Ref503203257'></span><span style='mso-element:field-end'></span><![endif]--><span
style='mso-bookmark:_Ref503203257'><span lang=EN-US>&#8209;</span></span><!--[if supportFields]><span
style='mso-bookmark:_Ref503203257'></span><span style='mso-element:field-begin'></span><span
style='mso-bookmark:_Ref503203257'><span lang=EN-US> SEQ </span></span><span
style='mso-bookmark:_Ref503203257'><span style='font-family:黑体;mso-ascii-font-family:
"等线 Light";mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";
mso-hansi-theme-font:major-latin'>图</span><span lang=EN-US> \* ARABIC \s 1 <span
style='mso-element:field-separator'></span></span></span><![endif]--><span
style='mso-bookmark:_Ref503203257'><span lang=EN-US><span style='mso-no-proof:
yes'>1</span></span></span><!--[if supportFields]><span style='mso-bookmark:
_Ref503203257'></span><span style='mso-element:field-end'></span><![endif]--><span
style='mso-bookmark:_Ref503203257'></span><span lang=EN-US> NOVA</span><span
style='font-family:黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:
major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>的低延迟的原子性</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>采用了</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>Filebench</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>工作负载包括</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>fileserver</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>、</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>webproxy</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>、</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>webserver</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>和</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>varmail</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>去评估</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>的应用程序级性能。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>Filebench</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>工作负载特征见表</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>所示。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;text-indent:21.0pt'><span
lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="图片_x0020_8"
 o:spid="_x0000_i1033" type="#_x0000_t75" alt="这里写图片描述" style='width:319.8pt;
 height:108pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image022.png" o:title="这里写图片描述"/>
</v:shape><![endif]--><![if !vml]><img width=426 height=144
src="NOVA.files/image023.gif" alt=这里写图片描述 v:shapes="图片_x0020_8"><![endif]></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><b style='mso-bidi-font-weight:
normal'><span lang=EN-US style='font-family:"微软雅黑",sans-serif;mso-fareast-font-family:
宋体;color:#3F3F3F;background:white'>NOVA</span></b><b style='mso-bidi-font-weight:
normal'><span style='font-family:宋体;mso-ascii-font-family:微软雅黑;mso-hansi-font-family:
微软雅黑;color:#3F3F3F;background:white'>获得了高性能并且有强数据一致性保证</span></b><span
style='font-family:宋体;mso-ascii-font-family:微软雅黑;mso-hansi-font-family:微软雅黑;
color:#3F3F3F;background:white'>。</span><span lang=EN-US style='font-family:
"微软雅黑",sans-serif;mso-fareast-font-family:宋体;color:#3F3F3F;background:white'><o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;text-indent:21.0pt;
page-break-after:avoid'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="图片_x0020_9" o:spid="_x0000_i1032" type="#_x0000_t75" alt="这里写图片描述"
 style='width:234.6pt;height:163.8pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image024.png" o:title="这里写图片描述"/>
</v:shape><![endif]--><![if !vml]><img width=313 height=218
src="NOVA.files/image025.gif" alt=这里写图片描述 v:shapes="图片_x0020_9"><![endif]></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:
major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>图</span>
<!--[if supportFields]><span lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>5</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:major-latin;
mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>图</span><span
lang=EN-US> \* ARABIC \s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>2</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US> Filebench</span><span style='font-family:黑体;mso-ascii-font-family:
"等线 Light";mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";
mso-hansi-theme-font:major-latin'>的吞吐率</span></p>

<p class=MsoNormal style='text-indent:24.1pt;mso-char-indent-count:2.0'><b
style='mso-bidi-font-weight:normal'><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";color:#3F3F3F;background:white'>垃圾回收效率</span></b><b
style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-family:"Times New Roman",serif;
color:#3F3F3F;background:white'>&nbsp;</span></b><b style='mso-bidi-font-weight:
normal'><span lang=EN-US style='font-family:"Times New Roman",serif;background:
white'> </span></b><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>NOVA</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>的性能随着运行时间的增加保持稳定，原因是在长期的运行过程中，</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>Fast GC</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>回收了主要的过时页（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>stale
pages</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>）。如所示：</span><span lang=EN-US style='font-family:"Times New Roman",serif;
color:#3F3F3F;background:white'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid'><span
lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="图片_x0020_10"
 o:spid="_x0000_i1031" type="#_x0000_t75" alt="这里写图片描述" style='width:267pt;
 height:213pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image026.png" o:title="这里写图片描述"/>
</v:shape><![endif]--><![if !vml]><img width=356 height=284
src="NOVA.files/image027.gif" alt=这里写图片描述 v:shapes="图片_x0020_10"><![endif]></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:
major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>图</span>
<!--[if supportFields]><span lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>5</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:major-latin;
mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>图</span><span
lang=EN-US> \* ARABIC \s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>3</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US> NOVA</span><span style='font-family:黑体;mso-ascii-font-family:"等线 Light";
mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:
major-latin'>的</span><span lang=EN-US>GC</span><span style='font-family:黑体;
mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:major-latin;mso-hansi-font-family:
"等线 Light";mso-hansi-theme-font:major-latin'>效率</span></p>

<p class=MsoNormal style='text-indent:24.1pt;mso-char-indent-count:2.0'><b
style='mso-bidi-font-weight:normal'><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>恢复开销</span></b><b style='mso-bidi-font-weight:
normal'><span lang=EN-US style='font-family:"Times New Roman",serif;background:
white'>&nbsp;</span></b><span lang=EN-US style='font-family:"Times New Roman",serif'>
<span style='background:white'>NOVA</span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";background:white'>使用</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>去维持</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>空闲页列表（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>free
page lists</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>），所以在文件系统挂载时必须重建。</span><span lang=EN-US style='font-family:
"Times New Roman",serif;background:white'>NOVA</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";background:white'>通过延迟地重建索引节点信息，保持短的日志并且执行并行的日志扫描来加速恢复过程。为了测量恢复开销，采用了表</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>4</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>中的三种工作负载。每种工作负载代表了文件系统的一种不同的使用情况：</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>Videoserver</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>包含少量的大尺寸请求的大文件访问，</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>mailserver</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>包含了大量的小文件并且请求大小比较小，而</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>Filesever</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>介于两者之间。详情见表</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>4&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="图片_x0020_12" o:spid="_x0000_i1030" type="#_x0000_t75" alt="这里写图片描述"
 style='width:399pt;height:119.4pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image028.png" o:title="这里写图片描述"/>
</v:shape><![endif]--><![if !vml]><img width=532 height=159
src="NOVA.files/image029.gif" alt=这里写图片描述 v:shapes="图片_x0020_12"><![endif]></span><span
lang=EN-US style='font-family:"微软雅黑",sans-serif;mso-fareast-font-family:宋体;
color:#3F3F3F;background:white'>&nbsp;</span><span lang=EN-US style='font-family:
"微软雅黑",sans-serif;mso-fareast-font-family:宋体;color:#3F3F3F'><br>
<span style='background:white'><span style='mso-spacerun:yes'>&nbsp; </span><span
style='mso-spacerun:yes'>&nbsp;&nbsp;</span></span></span><span lang=EN-US
style='font-family:"Times New Roman",serif;color:#3F3F3F;background:white'><span
style='mso-spacerun:yes'>&nbsp;</span></span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";background:white'>表</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>5</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>总结了结果。正常关机，</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>在</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>1.2ms</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>时间恢复文件系统，原因是</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>不需要扫描索引结点日志。在系统故障后，</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>的恢复时间随着索引结点的数量的增大而增长，文件越多，文件日志越多并且随着</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>IO</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>操作的进行文件越来越碎片化以致文件日志变得越来越长。基于</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>STT-RAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>上比基于</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>PCM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>的恢复快是因为</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>需要读日志以便重构</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>空闲页列表，而</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>PCM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>有比</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>STT-RAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>更高的读延迟。在</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>PCM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>和</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>STT-RAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>中，</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>能够在</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'>116ms</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>时间</span><span
lang=EN-US style='font-family:"Times New Roman",serif;background:white'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
background:white'>内恢复</span><span lang=EN-US style='font-family:"Times New Roman",serif;
background:white'>50GB</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";background:white'>数据，恢复带宽超过</span><span lang=EN-US
style='font-family:"Times New Roman",serif;background:white'>400GB/s</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";background:white'>。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;color:#3F3F3F;background:
white'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center'><span lang=EN-US
style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="图片_x0020_11" o:spid="_x0000_i1029"
 type="#_x0000_t75" alt="这里写图片描述" style='width:348.6pt;height:115.2pt;
 visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image030.png" o:title="这里写图片描述"/>
</v:shape><![endif]--><![if !vml]><img width=465 height=154
src="NOVA.files/image031.gif" alt=这里写图片描述 v:shapes="图片_x0020_11"><![endif]></span><span
lang=EN-US style='font-family:"Times New Roman",serif;color:#3F3F3F;background:
white'><o:p></o:p></span></p>

<h1 style='mso-list:l1 level1 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:等线;mso-fareast-theme-font:minor-latin;
mso-bidi-font-family:等线;mso-bidi-theme-font:minor-latin'><span
style='mso-list:Ignore'>6<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
等线;mso-ascii-theme-font:minor-latin;mso-hansi-font-family:等线;mso-hansi-theme-font:
minor-latin;background:white'>总结</span><span lang=EN-US style='background:white'><o:p></o:p></span></h1>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>本文实现并描述了</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>，一种为混合易失性</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>/</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>非易失性主存储器设计的日志结构文件系统。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'> NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>扩展了</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>LFS</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的思想，以利用</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，产生更简单，高性能的文件系统，支持快速高效的垃圾收集和系统故障的快速恢复。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>文中的测量结果显示，</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>在广泛的应用上大幅优于现有的</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NVMM</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>文件系统，同时提供更强的一致性和原子性保证。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<h1 style='mso-list:l1 level1 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:等线;mso-fareast-theme-font:minor-latin;
mso-bidi-font-family:等线;mso-bidi-theme-font:minor-latin'><span
style='mso-list:Ignore'>7<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
等线;mso-ascii-theme-font:minor-latin;mso-hansi-font-family:等线;mso-hansi-theme-font:
minor-latin'>听报告心得</span></h1>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>NOVA-Fortis: </span>容错的非易失主存文件系统</h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>非易失存储介质兴起，使得能够将常规</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>与大量非易失性主存储器（</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>）相结合，使系统存储性能得到巨大提升。充分实现</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的潜力需要根本改变系统软件管理，保护</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVVM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>中的数据并提供访问。在此基础上</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Xu J</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>博士等人研究并开发了</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>文件系统，但是其在容错方面存在不足，因此</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Xu J</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>博士等人进而改良</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，并发布了一个新的版本——</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA-Fortis</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA-Fortis</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>这个文件系统在面对由于软件错误导致的数据损坏时有既快又有弹性的处理。针对</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>文件系统添加容错，将最先进的可靠性技术应用于</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>文件系统以及量化这些技术的性能和存储开销方面的独特挑战，确定并提出解决方案。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA-Fortis</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>在</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>文件系统的基础上通过快照和数据保护机制，提升容错性。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA-Fortis</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>快照支持允许系统管理员在应用程序运行时获取文件系统的一致快照。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>系统可以将快照安装为只读文件系统，或者将文件系统回滚到以前的快照。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'> NOVA-Fortis</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>支持无限数量的快照，快照可以按任意顺序删除。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA-Fortis</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>通过将每个结构的两个副本保留为主要副本和副本并向两者添加</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>CRC32</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>校验和来保护其元数据。为了更新元数据结构，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA-Fortis</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>首先将数据结构的内容复制到主数据结构中，并发出一个锁以确保数据写入</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>。然后它对副本（</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>tock</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>）也是一样的。该方案确保在任何时候，两个副本中的至少一个被正确更新并具有一致的校验和。为了可靠地访问元数据结构，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NORA-Fortis</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>使用</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>memcpy_mcsafe</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>（）将主副本复制到</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>DRAM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>缓冲区中，以检测媒体错误。如果它找不到，它将验证两个副本的校验和。如果由于介质错误或校验和不匹配而检测到一个副本损坏，则通过复制另一个来恢复它。如果两个副本没有错误但不相同，则系统在上一次更新的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>ticktock</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>和回传阶段之间</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>fail</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA-Fortis</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>将主要副本复制到副本，从而有效地完成中断更新。如果两个副本都损坏，则元数据将丢失，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA-Fortis</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>将返回错误。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>FIRM</span>：公平和高性能的永久内存系统的内存控制</h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:等线;mso-ascii-theme-font:minor-latin;mso-hansi-font-family:
等线;mso-hansi-theme-font:minor-latin'>持久化内存系统指的是采用的最近新型的非易失存储器的存储系统，它的特点是掉电数据不丢失。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:等线;mso-ascii-theme-font:minor-latin;mso-hansi-font-family:
等线;mso-hansi-theme-font:minor-latin'>持久化和非持久化的应用程序的区别在于：持久化程序具有一致性保障机制可以保证在掉电之后恢复原来的数据；其特点是高写入强度，低内存并行度。而非持久化程序就是其他普通的程序，在掉电之后丢失数据；其特点是以读为主。</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>持久化程序包括了：数据库，文件系统，密钥值存储和持久性文件缓存。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>如果现在系统上要运行持久化和非持久化的程序，这会带来以下问题：</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>、持续写入导致频繁进入”写队列释放”</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>2</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>、频繁的总线周期轮转导致额外的消耗</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"Times New Roman",serif'>3</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>、低并行度</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>4</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>、有失公平性</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"Times New Roman",serif'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>FIRM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的整体框架如下图所示：</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;text-indent:21.0pt;
page-break-after:avoid'><span lang=EN-US style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="图片_x0020_25" o:spid="_x0000_i1028" type="#_x0000_t75" style='width:184.2pt;
 height:137.4pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image032.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=246 height=183
src="NOVA.files/image033.jpg" v:shapes="图片_x0020_25"><![endif]></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:
major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>图</span>
<!--[if supportFields]><span lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>7</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:major-latin;
mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>图</span><span
lang=EN-US> \* ARABIC \s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>1</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US> FIRM</span><span style='font-family:黑体;mso-ascii-font-family:"等线 Light";
mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:
major-latin'>架构</span></p>

<p class=MsoNormal><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-ascii-font-family:等线;mso-ascii-theme-font:minor-latin;
mso-hansi-font-family:等线;mso-hansi-theme-font:minor-latin'>其中，来源分类就是是根据，读取的强度，行缓冲局部性，等标准进行分类。来源可以分为：非密集型，随机型，流式，和持久性的。非持久的来源可以分为：非密集型，随机型和流式的；非密集型的可以分为：低的读取强度，流式的就是连续读，随机的就是随机读。</span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>复合文件的文件系统：解耦文件和元数据的一对一映射以获得更好的性能</h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>传统文件系统的文件与元数据采用一对一的映射方式（每个文件享有一个</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>i-node</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>节点）。但是其会存在冗余元数据信息、频繁访问小文件、预取限制等的缺点。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif'>CFFS</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>（</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>Composite-file File System</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>）将多个子文件</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>(subfile)</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>合并为一个组合文件（</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>composite file</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>）；同一组合文件下的小文件共用一个</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>i-node</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>、间接寻址块。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;text-indent:21.0pt'><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="图片_x0020_6" o:spid="_x0000_i1027" type="#_x0000_t75" style='width:261pt;
 height:87pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image034.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=348 height=116
src="NOVA.files/image035.jpg" v:shapes="图片_x0020_6"><![endif]></span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoListParagraph align=center style='margin-left:39.0pt;text-align:
center;text-indent:-18.0pt;mso-char-indent-count:0;mso-list:l0 level1 lfo3'><![if !supportLists]><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-fareast-font-family:
"Times New Roman"'><span style='mso-list:Ignore'>(a)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>传统文件系统的元数据与数据之间的关系</span><span lang=EN-US style='font-family:
"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;text-indent:21.0pt;
page-break-after:avoid'><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="图片_x0020_7" o:spid="_x0000_i1026"
 type="#_x0000_t75" style='width:252.6pt;height:67.8pt;visibility:visible;
 mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image036.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=337 height=90
src="NOVA.files/image037.jpg" v:shapes="图片_x0020_7"><![endif]></span></p>

<p class=MsoListParagraph align=center style='margin-left:39.0pt;text-align:
center;text-indent:-18.0pt;mso-char-indent-count:0;mso-list:l0 level1 lfo3'><![if !supportLists]><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-fareast-font-family:
"Times New Roman"'><span style='mso-list:Ignore'>(b)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='font-family:"Times New Roman",serif'>CFFS</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的元数据与数据之间的关系</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:
major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>图</span>
<!--[if supportFields]><span lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>7</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:major-latin;
mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>图</span><span
lang=EN-US> \* ARABIC \s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>2</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US> </span><span style='font-family:黑体;mso-ascii-font-family:"等线 Light";
mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:
major-latin'>传统文件系统和</span><span lang=EN-US>CFFS</span><span style='font-family:
黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:major-latin;
mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>的元数据组织方式</span></p>

<p class=MsoNormal><span lang=EN-US style='font-family:"Times New Roman",serif'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>composite
file</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的创建的过程如下：</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>1.</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>分配</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>i-nodeC 2.</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>复制、拼接子文件内容</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>3.</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>记录子文件大小、偏移位置、子文件的原始</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>i-node</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>信息等到扩展属性。为使用户可以通过原始文件名找到文件：子文件名重新映射到</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>i-nodeC</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，给子文件创建</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>subfile ID</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>CUID</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>（</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>CFFS unique IDs i-node</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的命名空间）中的高位作为组合文件的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>i-node number</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，低位作为子文件的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>subfile ID</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='page-break-after:avoid'><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-no-proof:yes'><!--[if gte vml 1]><v:shape
 id="图片_x0020_3" o:spid="_x0000_i1025" type="#_x0000_t75" style='width:415.2pt;
 height:112.8pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="NOVA.files/image038.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=554 height=150
src="NOVA.files/image039.jpg" v:shapes="图片_x0020_3"><![endif]></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:
major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>图</span>
<!--[if supportFields]><span lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>7</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:"等线 Light";mso-ascii-theme-font:major-latin;
mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:major-latin'>图</span><span
lang=EN-US> \* ARABIC \s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>3</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US> </span><span style='font-family:黑体;mso-ascii-font-family:"等线 Light";
mso-ascii-theme-font:major-latin;mso-hansi-font-family:"等线 Light";mso-hansi-theme-font:
major-latin'>复合文件的创建过程</span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>F2FS</span>：<span lang=EN-US>Flash
Friendly File System</span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif'>F2FS (Flash Friendly File System) </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>是专门为基于</span><span
lang=EN-US style='font-family:"Times New Roman",serif'> NAND </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的存储设备设计的新型开源</span><span
lang=EN-US style='font-family:"Times New Roman",serif'> flash </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>文件系统。特别针对</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NAND </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>闪存存储介质做了友好设计。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>F2FS </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>于</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>2012</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>年</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>12</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>月进入</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Linux 3.8 </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>内核。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>F2FS </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>采用</span><span
lang=EN-US style='font-family:"Times New Roman",serif'> log-structured</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的方案。修复了旧式</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>log-structured</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>文件系统的一些已知问题，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'> (1) wandering tree (2)</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>高</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>clean</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>开销。根据闪存内部结构和管理机制，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>F2FS</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的设计者增加了多种参数，不仅用于配置磁盘布局，还可以选择分配和清理算法，优化性能</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>(</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>并行</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>IO</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>提高性能</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>)</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>像</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>一样，</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>F2FS</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>也对垃圾收集进行了设计，以便能够快速</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>GC</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>F2FS</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>使用多头日志记录，将元数据和数据写入独立的日志，并以高磁盘利用率将新数据直接写入脏段中的空闲空间，以避免频繁的垃圾收集。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;color:#3F3F3F'><o:p></o:p></span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Falcon:</span>在多<span
lang=EN-US>SSD</span>卷上扩展<span lang=EN-US>IO</span>性能</h2>

<p class=MsoNormal style='text-indent:24.0pt;mso-char-indent-count:2.0;
tab-stops:36.0pt 72.0pt'><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>大数据应用需要很高的吞吐量来处理大量的数据，因此对高性能的存储系统</span><span
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'> </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>产生了需求</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>.</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>基于闪存的固态硬盘（</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'>SSD</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>）与磁盘相比具有很好的随机和顺序读写性能，因此是一种很有吸引力的选择。最近的趋势是使用多个</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'>SSD</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>来获得更高的吞吐量</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>1.</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>图分析</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'>2.</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>机器学习</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>3.</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>键值存储</span><span lang=EN-US
style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:24.0pt;mso-char-indent-count:2.0;
tab-stops:36.0pt'><span lang=EN-US style='font-family:"Times New Roman",serif'>Linux</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>块层的不足：</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>1.</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>缺乏并行性。由于多个</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>IO</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>服务任务被迫在单个</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>plug-list</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>中执行，因此并行化这些任务的机会是有限的。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>在</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>Linux</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>架构下，合并，标签分配和排序任务缺乏并行性。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>且调度是以轮询的方式进行。</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>2.</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:bold'>合并和排序的效率很低。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>3.</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>不可预测的阻塞。</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>如果标签分配失败，则</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>IO</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>线程将阻塞等待空闲标签</span><span lang=EN-US
style='font-family:"Times New Roman",serif'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>。导致流水线中活跃的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>IO</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>个数的不确定性</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:36.0pt'><span lang=EN-US style='font-family:
"Times New Roman",serif'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;
</span>Falcon</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman"'>体系架构：</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>1.</span><b><span
lang=EN-US style='font-size:40.0pt;font-family:"Palatino Linotype",serif;
mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-fareast;
mso-bidi-font-family:"Palatino Linotype";color:#0433FF;letter-spacing:-.05pt;
mso-font-kerning:12.0pt'> </span></b><b><span lang=EN-US style='font-family:
"Times New Roman",serif'>Falcon IO Management Layer</span></b><b><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>：</span></b><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>将到达的</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>IO</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>批量的放入</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'>plug-list</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>。只是将</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>IO</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>放入</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'>Plug-list</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>当中，不进行处理。将</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>pluglist</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:bold'>分类，单次传输操作不进行排序。可以并行地对分类后的进行批处理，为每一个</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>FBL</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>创建一个</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>Falcon</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>线程。</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'>2.</span><b><span
lang=EN-US style='font-size:40.0pt;font-family:"Palatino Linotype",serif;
mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-fareast;
mso-bidi-font-family:"Palatino Linotype";color:#0433FF;letter-spacing:-.05pt;
mso-font-kerning:12.0pt'> </span></b><b><span lang=EN-US style='font-family:
"Times New Roman",serif'>Falcon Block Layer</span></b><b><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>：</span></b><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>排序阶段：每驱动排序</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman"'>处理阶段：邻居合并、动态标签分配、调度完成阶段</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>3.</span><b><span
lang=EN-US style='font-size:40.0pt;font-family:"Palatino Linotype",serif;
mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-fareast;
mso-bidi-font-family:"Palatino Linotype";color:#0433FF;letter-spacing:-.05pt;
mso-font-kerning:12.0pt'> </span></b><b><span lang=EN-US style='font-family:
"Times New Roman",serif'>Dynamic Tag Management:</span></b><span lang=EN-US> </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>只在调度阶段才分配标签</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>.</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>主要好处是提高队列利用率，因为允许更多的</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>IO</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>驻留在</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'>IO</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>管道中而不需要获取标签</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>.</span><span lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.6<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>用<span lang=EN-US>WOM</span>代码来节约<span
lang=EN-US>SSD</span>擦出的成本</h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>一次写记忆</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>(WOM</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>，</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>write-once memory ) </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>代码首先在</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>1982</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>年被莱维斯特和沙米尔提出，其目的是为在一次写的存贮媒介介质</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>(</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>如穿孔卡和光盘</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>)</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>上记录信息多次。但是当施加了类似的约束，它们也可以应用于</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>flash </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>存储器。只要保证每个单元的位值只能增加</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>, </span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>不能减少即可。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif'>Reusable SSD</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>采用</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Polar WOM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>代码。第一次写的时候几乎不进行修改，没有额外的开销，第二次写的时候一个逻辑页写入两个物理页。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Reusable SSD</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>有如下优点：</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>1.</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>在擦除之前增加写入操作</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>2.</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>扩展</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>SSD</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的生命周期</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>3.</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>提升性能</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>4.</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>保留原有的容量和接口。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>这篇文章推出了可重复使用的固态硬盘，这是一种实用的设计，用于应用第二次写入来延长</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>SSD</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>使用寿命，同时显着提高性能。这种设计是通用的，适用于当前的闪存架构，只需在</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>FTL</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>内进行微调即可，无需额外的硬件或接口修改。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>尽管如此，随着技术在几个预期的方向上的进步，可重复使用的固态硬盘还能获得更多。允许更高程度的并行性的闪存体系结构可以容纳第三次或者第四次写入，分别将每个逻辑页面的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>4</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>个和</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>8</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>个物理页面组合起来。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>随着</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>Polar WOM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>代码硬件实现的成熟，其编码开销将减少，从而实现更快的重试次数，并有可能使用成功概率更高的结构。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>同样，更强的</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>ECC</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>可以补偿增加的</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>BER</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>，增加块在擦除之前可以被回收的寿命的百分比。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>最后，大多数先前提出的延长</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>SSD</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>寿命的方案与可重用</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>SSD</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>的设计是正交的，并且可以与第二次写入相结合。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>可重复使用的</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>SSD</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>所实现的性能改进可以掩盖那些引起额外延迟的方案的一些开销。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.7<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>TensorFlow</span>：大规模机器学习系统</h2>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'>Tensorflow</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>是一个能够满足模型在不同平台上不同性能以及资源需求而建立一个独立的系统，训练好的模型能够以在线服务或者在移动设备上运行等各种各样的形式投入产品。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'>TensorFlow</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>的设计原则：在满足谷歌机器学习产品</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>workload</span><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:bold'>的同时让</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>tensorflow</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>更加灵活；提供一个简单的基于数据流图的编程抽象让用户可以在分布式集群，本地工作站，移动设备等上使用；在用户级代码中构建数据流图，让用户不修改核心系统的前提下能够比较自由地尝试不同的网络结构。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'>TF</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>使用一个数据流模型代表了一个机器学习算法中的所有计算和状态，包括单独的数学运算，参数和他们的更新规则，输入的预处理。数据流图显式地表达了子运算之间的通信，从而使得并行地执行独立计算和在不同设备上的计算分配十分简单。它和</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>batch dataflow systems</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>的区别在以下两个方面：</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l3 level1 lfo4;
tab-stops:36.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
"Arial",sans-serif;mso-fareast-font-family:Arial;mso-bidi-font-weight:bold'><span
style='mso-list:Ignore'>&#8226;<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>支持在重叠子图（</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'>overlapping
subgraphs</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>）多并行执行</span><span lang=EN-US style='font-family:
"Times New Roman",serif;mso-bidi-font-weight:bold'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:36.0pt;text-indent:-18.0pt;mso-list:l3 level1 lfo4;
tab-stops:36.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
"Arial",sans-serif;mso-fareast-font-family:Arial;mso-bidi-font-weight:bold'><span
style='mso-list:Ignore'>&#8226;<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>单个顶点可以有在图的不同执行之间共享的可变状态。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:bold'>通过对</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>PS</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>的观察可以知道可变的状态在训练分非常大的模型的时候至关重要，因为这能让模型在非常大的参数规模下完成就地更新（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>in-place updates</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>），并尽快地传播这些更新给并行训练步（</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>steps</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>）。有可变状态的数据流让</span><span lang=EN-US
style='font-family:"Times New Roman",serif;mso-bidi-font-weight:bold'>tf</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";mso-bidi-font-weight:
bold'>能够模仿</span><span lang=EN-US style='font-family:"Times New Roman",serif;
mso-bidi-font-weight:bold'>ps</span><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman";mso-bidi-font-weight:bold'>的功能，并且能够满足灵活性要求，因为这让</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'>host</span><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
mso-bidi-font-weight:bold'>共享模型参数的机器上能够执行任意的数据流子图。所以，用户能够在不同的优化算法，一致性策略和并行策略上实验。</span><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-bidi-font-weight:
bold'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>目前，机器学习和深度学习如日中天，方兴未艾。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>TensorFlow</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>是非常红的一个深度学习框架。我认为非常有必要了解和学习一下，并且最近也有存储方向论文用</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>CNN</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>或者</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>RNN</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>进行数据压缩。有机会可以看一下。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.8<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>使用<span lang=EN-US>PathDump</span>简化数据中心网络调试</h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>随着数据中心网络的不断发展，需要网络调试工具解决网络问题，现有的网络调试工具需要结合网内技术（如捕获每个数据包的每个交换日志，动态更新交换机规则等），实现越来越困难。因此这篇文章提出了一个截然不同的方法（</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Path Dump</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>）：分配边缘设备和网络交换机之间的功能，尽可能地避免使用复杂的网内技术。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif'>Path Dump</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>是一个网络调试器，用于监测数据中心网络可能出现的问题。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman"'>其用于解决与链路相关的网络问题。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Path Dump</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>大约会占用</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>4%</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>网络吞吐量以及占用少量服务器</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>CPU</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，内存和硬盘资源。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif'>Path Dump</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>设计基础：①交换机仅进行简单的操作。②边缘设备保存交换机标识符，并对引擎中的条目进行相应的更新。③边缘设备可以根据条目来触发和调试异常的网络行为。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif'>Path Dump</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>设计的核心思想是跟踪数据包的轨迹。①使用</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Cherry Pick</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的链路采样思想来跟踪数据包的轨迹。②边缘设备从接收到的分组报头中的提取交换机</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>ID</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>列表并记录在本地存储和查询引擎上。③每个边缘设备公开</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Host API,</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>用于识别、触发和调试异常网络行为。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US
style='font-family:"Times New Roman",serif'>PathDump</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>可以用来做路径的一致性检查、负载不均衡的诊断、无声随机数据包丢失、路由环路诊断和</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>TCP</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>性能异常测试。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.9<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>My VM is lighter than your
container</span></h2>

<p class=MsoNormal style='text-indent:24.0pt;mso-char-indent-count:2.0'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>与虚拟机相比，容器的需求量非常大，因为它们更加轻量级。但是不利的一面是，容器提供的隔离度比虚拟机的隔离度要低，人们不得已在虚拟机中运行容器以实现适当的隔离。在</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>LightVM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>这篇</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>paper</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>中，作者们研究隔离</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>(VMs)</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>和效率（容器）之间是否存在严格的权衡。于是他们发现虚拟机可以像容器一样灵活，只要它们很小，而且工具栈足够快。通过使用专用应用程序的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>unikernel</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>和</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Tinyx</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>来实现轻量级的虚拟机，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Tinyx</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>是一个可以创建定制的，精简的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Linux</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>虚拟机的工具。由于虚拟化控制平面（工具堆栈）成为性能瓶颈，因此轻量级虚拟机本身并不足以确保良好的性能。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:24.0pt;mso-char-indent-count:2.0'><span
lang=EN-US style='font-family:"Times New Roman",serif'>LightVM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的作者们提供了一种基于</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Xen</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的新型虚拟化解决方案</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>LightVM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，该虚拟化解决方案针对快速启动时间进行了优化，无论活动虚拟机数量多少。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'> LightVM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>具有对</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Xen</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>控制平面的完全重新设计，将其集中式操作转变为分布式操作，与管理程序的交互被降到最低。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'> LightVM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>可以在</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>2.3ms</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>内启动</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>VM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，与</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Linux</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>上的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>fork / exec</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>（</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>1ms</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>）相当，比</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Docker</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>快两个数量级。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'> LightVM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>可以在适中的硬件上打包数千个</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>LightVM guest</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>虚拟机，其内存和</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>CPU</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>使用率与进程相当。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<h2 style='mso-list:l1 level2 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:"等线 Light";mso-fareast-theme-font:major-latin;
mso-bidi-font-family:"等线 Light";mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.10<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US><span
style='mso-spacerun:yes'>&nbsp;</span></span>高效高可用的内存中的<span lang=EN-US>K-V</span>存储</h2>

<p class=MsoNormal style='text-indent:24.0pt;mso-char-indent-count:2.0'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>内存中的键</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>/</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>值存储（</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>KV-store</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>）是许多系统（如数据库和大型网站）的关键构建模块。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>这样的系统的两个关键要求是效率和可用性，这要求</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>KV</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>存储每秒连续处理数百万个请求。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>常用的可用性方法是使用复制，例如主备</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>(PBR)</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，然而，要求</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>M + 1</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>次内存来容忍</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>M</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>失败。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>这使得稀少的内存无法处理有用的用户作业。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:24.0pt;mso-char-indent-count:2.0'><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>内存</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>KV</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>存储这篇文章通过集成纠删编码来实现内存效率，而不是显着降低性能，从而构建高度可用的内存</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>KV-store</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>。一个主要的挑战是内存中的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>KV-store</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>有很多分散的元数据。由于对元数据的过度小的更新，单个</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>KV</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>放置可能导致过度的编码操作和奇偶校验更新。这篇文章的方法即</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Cocytus</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>通过使用针对小尺寸和分散数据（例如，元数据和密钥）的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>PBR</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的混合方案，而仅对相对大的数据（例如，值）应用擦除编码来解决该挑战。为了缓解像删除编码冗长恢复等众所周知的问题，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Cocytus</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>通过利用复制的元数据信息不断地为</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>KV</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>请求提供在线恢复方案。为了进一步证明</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Cocytus</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的有用性，作者们通过使用</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Cocytus</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>作为一个快速可靠的存储层来存储数据库记录和事务日志，从而构建了一个事务层。已经将</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Cocytus</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的设计集成到</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Memcached</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>中，并将其扩展到支持内存交易。使用具有不同</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>KV</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>配置的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>YCSB</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的评估表明，</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Cocytus</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>在延迟和吞吐量方面具有较低的开销，能够容忍节点故障并能快速在线恢复，同时在容忍两次故障时节省</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>33</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>％至</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>46</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>％的内存。使用</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>SmallBank OLTP</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>基准测试的进一步评估表明，内存事务可以在吞吐量高的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Cocytus</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>上运行，具有高吞吐量，低延迟和低中止率，并能够快速恢复连续的故障。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<h1 style='mso-list:l1 level1 lfo1'><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:等线;mso-fareast-theme-font:minor-latin;
mso-bidi-font-family:等线;mso-bidi-theme-font:minor-latin'><span
style='mso-list:Ignore'>8<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:宋体;mso-ascii-font-family:
等线;mso-ascii-theme-font:minor-latin;mso-hansi-font-family:等线;mso-hansi-theme-font:
minor-latin'>本课程学习心得体会</span></h1>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:等线;mso-ascii-theme-font:minor-latin;mso-hansi-font-family:
等线;mso-hansi-theme-font:minor-latin'>通过对本课程的学习，学到了很多知识。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>首先，是了解了各种各样的文件系统。例如针对易失和非易失内存的混合存储系统的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>和</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA-Fortis</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>文件系统。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>扩展了</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>LFS</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的思想，以利用</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NVMM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，产生更简单，高性能的文件系统，支持快速高效的垃圾收集和系统故障的快速恢复。</span><span
style='font-family:"Times New Roman",serif'> </span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>文中的测量结果显示，</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NOVA</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>在广泛的应用上大幅优于现有的</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>NVMM</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>文件系统，同时提供更强的一致性和原子性保证。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>NOVA-Fortis</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>实施的解决方案通过对文件系统进行一致的快照来提供备份，并提供重大保护，防止由于软件错误导致的媒体错误和损坏。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>FIRM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，对持久性的内存进行控制。还有</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>CFS</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>（复合文件的文件系统）通过解耦文件和元数据的一对一映射以获得更好的性能。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>F2FS</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>是一个面向</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>flash</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的移动设备的文件系统。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>还有几种很重要的分布式的文件系统。我了解了</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>GFS</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>。</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;background:white'>GFS</span><span style='mso-bidi-font-size:12.0pt;
font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";color:#333333;
background:white'>是一个可扩展的</span><span lang=EN-US><a
href="https://baike.baidu.com/item/%E5%88%86%E5%B8%83%E5%BC%8F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"
target="_blank"><span lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman";color:windowtext;background:white;
text-decoration:none;text-underline:none'><span lang=EN-US>分布式文件系统</span></span></a></span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#333333;background:white'>，用于大型的、分布式的、对大量数据进行访问的应用。它运行于廉价的普通硬件上，并提供容错功能。它可以给大量的用户提供总体性能较高的服务。虽然这个文件系统不开源，但是</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;background:white'>Apache</span><span style='mso-bidi-font-size:
12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";color:#333333;
background:white'>根据</span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Times New Roman",serif;color:#333333;background:white'>Google</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#333333;background:white'>的那三篇</span><span lang=EN-US style='mso-bidi-font-size:
12.0pt;font-family:"Times New Roman",serif;color:#333333;background:white'>paper</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman";
color:#333333;background:white'>，可能也不止那三篇开发了大名鼎鼎的</span><span lang=EN-US
style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif;
color:#333333;background:white'>hdfs</span><span style='mso-bidi-font-size:
12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman";color:#333333;
background:white'>。还有</span><span lang=EN-US style='mso-bidi-font-size:12.0pt;
font-family:"Times New Roman",serif'>Ceph</span><span style='mso-bidi-font-size:
12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，也是<span
style='color:#333333;background:white'>一种为优秀的性能、可靠性和可扩展性而设计的统一的、</span></span><span
lang=EN-US><a
href="https://baike.baidu.com/item/%E5%88%86%E5%B8%83%E5%BC%8F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"
target="_blank"><span lang=EN-US style='font-family:宋体;mso-ascii-font-family:
等线;mso-ascii-theme-font:minor-latin;mso-hansi-font-family:等线;mso-hansi-theme-font:
minor-latin;color:#333333;text-decoration:none;text-underline:none'><span
lang=EN-US>分布式文件系统</span></span></a></span><span style='mso-bidi-font-size:
12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>。还有</span><span
lang=EN-US style='mso-bidi-font-size:12.0pt;font-family:"Times New Roman",serif'>FaceBook</span><span
style='mso-bidi-font-size:12.0pt;font-family:宋体;mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:"Times New Roman"'>为存储海量图片文件而开发的一种文件系统，可惜，忘了叫什么名字了，对不起老师了。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>其次，了解了一些</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>SSD</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>的优化的方案。例如利用</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>WOM</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>编码的可重用的</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>SSD</span><span style='font-family:
宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>，还有</span><span lang=EN-US
style='font-family:"Times New Roman",serif'>Falcon</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>这种在多</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>SSD</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>卷上扩展</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>IO</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>性能的方案·······不一而足。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>最后还有一些其它的涉猎比较广的东西。比如，最近人工智能、深度学习可谓红得发紫，有几位同学也简单介绍了</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>TensorFlow</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>这个</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Google</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>的深度学习和机器学习的框架。随着大数据时代的来临，云数据中心的兴建，云计算也可谓方兴未艾，我在课堂上也了解了</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Xen</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>和一种代替虚拟机的容器</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>Docker</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，也有一位同学讲了轻量级的</span><span
lang=EN-US style='font-family:"Times New Roman",serif'>VM</span><span
style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:
"Times New Roman";mso-bidi-font-family:"Times New Roman"'>，还有其他专业同学介绍的一些在我知识盲区的东西······</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:宋体;
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-bidi-font-family:"Times New Roman"'>通过本课程的学习，个人觉得，确实达到了了解操作系统前沿方向的目标，虽然说好多细节也不懂。另外，通过自己看论文和讲论文的过程，受益匪浅。</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<h1 style='mso-list:none'><span style='font-family:宋体;mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-bidi-font-family:
"Times New Roman"'>参考文献</span><span lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></h1>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l2 level1 lfo5'><![if !supportLists]><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-fareast-font-family:
"Times New Roman"'><span style='mso-list:Ignore'>[1]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='font-size:10.0pt;
font-family:"Times New Roman",serif;background:white'>Xu J, Swanson S. NOVA: A
Log-structured File System for Hybrid Volatile/Non-volatile Main Memories[C]//FAST.
2016: 323-338.</span><span lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l2 level1 lfo5'><![if !supportLists]><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-fareast-font-family:
"Times New Roman"'><span style='mso-list:Ignore'>[2]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='font-size:10.0pt;
font-family:"Times New Roman",serif;background:white'>Xu J, Zhang L, Memaripour
A, et al. NOVA-Fortis: A Fault-Tolerant Non-Volatile Main Memory File
System[C]//Proceedings of the 26th Symposium on Operating Systems Principles.
ACM, 2017: 478-496.</span><span lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l2 level1 lfo5'><![if !supportLists]><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-fareast-font-family:
"Times New Roman"'><span style='mso-list:Ignore'>[3]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='font-size:10.0pt;
font-family:"Times New Roman",serif;background:white'>Yadgar G, Yaakobi E,
Schuster A. Write Once, Get 50% Free: Saving SSD Erase Costs Using WOM
Codes[C]//FAST. 2015: 257-271.</span><span lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l2 level1 lfo5'><![if !supportLists]><span
lang=EN-US style='font-family:"Times New Roman",serif;mso-fareast-font-family:
"Times New Roman"'><span style='mso-list:Ignore'>[4]<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='font-size:10.0pt;
font-family:"Times New Roman",serif;background:white'>Kumar P, Huang H H.
Falcon: Scaling io performance in multissd volumes[C]//2017 USENIX Annual
Technical Conference (USENIX ATC 17). USENIX Association. 2017: 41-53.</span><span
lang=EN-US style='font-family:"Times New Roman",serif'><o:p></o:p></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l2 level1 lfo5'><![if !supportLists]><span
lang=EN-US style='font-size:10.0pt;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>[5]<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-size:10.0pt;font-family:"Times New Roman",serif;
background:white'>A. Akel, A. M. Caulfield, T. I. Mollov, R. K. Gupta, and S.
Swanson. Onyx: A protoype phase change memory storage array. In Proceedings of
the 3rd USENIX Conference on Hot Topics in Storage and File Systems,
HotStorage’11, pages 2–2,Berkeley, CA, USA, 2011. USENIX Association.<o:p></o:p></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l2 level1 lfo5'><![if !supportLists]><span
lang=EN-US style='font-size:10.0pt;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>[6]<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-size:10.0pt;font-family:"Times New Roman",serif;
background:white'>J. Arulraj, A. Pavlo, and S. R. Dulloor. Let’s Talk About
Storage &amp; Recovery Methods for Non-Volatile Memory Database Systems. In
Proceedings of the 2015 ACM SIGMOD International Conference on Management of
Data, SIGMOD ’15, pages 707–722, New York, NY, USA, 2015. ACM.<o:p></o:p></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l2 level1 lfo5'><![if !supportLists]><span
lang=EN-US style='font-size:10.0pt;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>[7]<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-size:10.0pt;font-family:"Times New Roman",serif;
background:white'>K. Bhandari, D. R. Chakrabarti, and H.-J. Boehm. Implications
of CPU Caching on Byte-addressable Non-volatile Memory Programming. Technical
report, HP Technical Report HPL-2012-236, 2012.<o:p></o:p></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l2 level1 lfo5'><![if !supportLists]><span
lang=EN-US style='font-size:10.0pt;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>[8]<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-size:10.0pt;font-family:"Times New Roman",serif;
background:white'>M. S. Bhaskaran, J. Xu, and S. Swanson. Bankshot: Caching
Slow Storage in Fast Non-volatile Memory. In Proceedings of the 1st Workshop on
Interactions of NVM/FLASH with Operating Systems and Workloads, INFLOW ’13,
pages 1:1–1:9, New York, NY, USA, 2013. ACM.<o:p></o:p></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l2 level1 lfo5'><![if !supportLists]><span
lang=EN-US style='font-size:10.0pt;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>[9]<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-size:10.0pt;font-family:"Times New Roman",serif;
background:white'>M. J. Breitwisch. Phase change memory. Interconnect
Technology Conference, 2008. IITC 2008. International, pages 219–221, June
2008.<o:p></o:p></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l2 level1 lfo5'><![if !supportLists]><span
lang=EN-US style='font-size:10.0pt;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>[10]<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-size:10.0pt;font-family:"Times New Roman",serif;
background:white'>F. Chen, D. A. Koufaty, and X. Zhang. Understanding intrinsic
characteristics and system implications of flash memory based solid state
drives. ACM SIGMETRICS Performance Evaluation Review, 37(1):181–192, 2009.<o:p></o:p></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l2 level1 lfo5'><![if !supportLists]><span
lang=EN-US style='font-size:10.0pt;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>[11]<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-size:10.0pt;font-family:"Times New Roman",serif;
background:white'>Manco F, Lupu C, Schmidt F, et al. My VM is Lighter (and
Safer) than your Container[C]// The, Symposium. 2017:218-233.<o:p></o:p></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l2 level1 lfo5'><![if !supportLists]><span
lang=EN-US style='font-size:10.0pt;font-family:"Times New Roman",serif;
mso-fareast-font-family:"Times New Roman"'><span style='mso-list:Ignore'>[12]<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US style='font-size:10.0pt;font-family:"Times New Roman",serif;
background:white'>Chen H, Zhang H, Dong M, et al. Efficient and Available
In-Memory KV-Store with Hybrid Erasure Coding and Replication[J]. Acm
Transactions on Storage, 2017, 13(3):25.<o:p></o:p></span></p>

</div>

</body>

</html>
